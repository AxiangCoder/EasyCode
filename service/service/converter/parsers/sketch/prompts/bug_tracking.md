# Bug Tracking

| Bug ID | 标题 | 详情 | 解决方案 | 注意事项 | 状态 | 严重级别 | 优先级 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| SKETCH-1 | 缺少 `justify-content` 和 `align-items` 字段 | 当前的 LLM 布局分析未能稳定返回 `justify-content` 和 `align-items` 这两个关键的 flexbox 属性，导致前端渲染时无法精确控制对齐方式。 | （待定） | （待定） | 新建 | S2 一般 | P1 |
| SKETCH-2 | `Virtual Group` 的生成逻辑不明确 | 当 LLM 分析结果包含多个布局组或离群元素时，会创建虚拟组（Virtual Group）。需要明确其生成条件、坐标计算逻辑以及如何处理嵌套层级，以确保布局的准确性。 | (待定) 进一步分析和重构 `_process_llm_layout_analysis` 函数。<br>**改进坐标计算逻辑**：优化边界框计算，确保Virtual Group的尺寸和位置计算准确。<br>**完善嵌套层级处理**：添加层级深度检查，避免坐标累积误差。 | (待定) | 新建 | S1 严重 | P1 |
| SKETCH-3 | `Virtual Group` 定位方式设计缺陷 | Virtual Group 被粗暴地强制设置为绝对定位（`position: "absolute"`），即使其内部使用 flex 布局。这导致布局行为异常，失去了 flexbox 的响应式特性，造成逻辑矛盾。 | 根据布局类型智能选择定位方式，避免强制使用绝对定位。对于 flex 布局的 Virtual Group，应使用相对定位或静态定位。 | 当前 Virtual Group 同时包含 flex 布局属性和绝对定位，这在 CSS 中是不合理的。需要根据实际布局需求选择合适的定位方式。 | 新建 | S1 严重 | P0 |
| SKETCH-4 | 使用 `padding` 优雅地实现布局 | 当前的布局分析主要依赖 `gap` 属性。可以探索在父容器上使用 `padding` 并结合 `gap` 的方式，以更灵活、更优雅地实现 `flex` 或 `grid` 布局，特别是在处理边缘间距时。 | (待定) 探索在提示词中引导 LLM 识别可以转换为 `padding` 的布局模式。 | （待定） | 新建 | S3 轻微 | P2 |
| SKETCH-5 | ListPage 布局不稳定 | 在多次测试中，ListPage 的 DSL 输出布局不一致。只有 ef9cc337-d5de-45b5-99d3-6b5a782c8938/dsl_output 采用了相对正确的布局（flex 或 grid），但其第一个 Virtual Group - flex 的 gap 值计算错误（源文件显示列表项间隙应均匀，但输出 gap 不匹配）。<br>其他两次测试的 DSL 输出布局完全错误，可能过度使用 absolute 定位或错误分组，导致与源文件 (6B6771BA-E1C8-40F1-938C-19EDD4C50371_mcB7IxT.json) 中的列表结构不符（源文件有多个矩形项应形成 flex column）。 | (待定) 优化 LLM 分步调用，确保分组步骤优先单一 flex group，并准确计算 gap。 | 可能与 LLM 输出不确定性相关，需要更多测试数据。 | 新建 | S1 严重 | P0 |
| SKETCH-6 | LoginPage 始终采用绝对定位 | 在三次测试中，LoginPage 的 DSL 输出全部使用绝对定位 (absolute)，忽略了源文件中的响应式结构（如画框和图形组应形成 flex 布局）。<br>这导致生成的布局在 web 环境中不响应式，与源文件 (6B6771BA-E1C8-40F1-938C-19EDD4C50371_mcB7IxT.json) 中的相对定位和流动布局不符（e.g., 登录元素应适应屏幕大小）。 | (待定) 在提示词中强化 relative 定位偏好，并检查代码中 Virtual Group 的定位逻辑。 | 可能源于 LLM 未正确识别主布局 group，导致 fallback 到 absolute。 | 新建 | S1 严重 | P0 |
| SKETCH-7 | Virtual Group 强制采用绝对定位 | 所有生成的 Virtual Group 均强制设置为绝对定位 (position: absolute)，即使内部为 flex 或 grid 布局。这在三次测试的 DSL 输出中均出现，导致响应式问题和 CSS 逻辑矛盾（e.g., flex 子元素无法自然流动）。<br>与源文件布局不符，源文件中的组（如列表或登录画框）应使用 relative 或 static 定位。 | (待定) 修改代码动态选择定位（基于 LLM 的 position 建议），优先 relative。 | 这会放大其他布局 bug，尤其在混合场景中。 | 新建 | S1 严重 | P0 |