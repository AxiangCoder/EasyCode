{"version":3,"file":"__my-command.js","mappings":";;;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA,iH;;;;;;;;;;;ACLA,uBAAuB,mBAAO,CAAC,wFAAuB;AACtD;AACA;AACA;AACA,kH;;;;;;;;;;;ACJA;AACA;AACA;AACA,+G;;;;;;;;;;;ACHA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,4G;;;;;;;;;;;ACZA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,+G;;;;;;;;;;;ACTA;AACA;AACA;AACA,gH;;;;;;;;;;;ACHA;AACA;AACA;AACA,kH;;;;;;;;;;;ACHA,wBAAwB,mBAAO,CAAC,0FAAwB;AACxD,sBAAsB,mBAAO,CAAC,sFAAsB;AACpD,iCAAiC,mBAAO,CAAC,4GAAiC;AAC1E,wBAAwB,mBAAO,CAAC,0FAAwB;AACxD;AACA;AACA;AACA,kH;;;;;;;;;;;ACPA,cAAc,mBAAO,CAAC,oEAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;ACXA,cAAc,mBAAO,CAAC,oEAAa;AACnC,kBAAkB,mBAAO,CAAC,8EAAkB;AAC5C;AACA;AACA;AACA;AACA,6G;;;;;;;;;;;ACNA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,uG;;;;;;;;;;;ACTA,uBAAuB,mBAAO,CAAC,wFAAuB;AACtD;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,2H;;;;;;;;;;;ACRA;AACA;AACA,aAAa,mBAAO,CAAC,sBAAQ;AAC7B,YAAY,mBAAO,CAAC,iDAAS;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACpbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,mBAAO,CAAC,iDAAS;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAO,CAAC,yEAAoB;;AAElD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,yBAAyB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,qBAAqB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU,aAAa;AACvB;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,WAAW;AACX;AACA,qCAAqC;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA,gDAAgD;AAChD;AACA,WAAW;AACX;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;AC3gBA,WAAW,mBAAO,CAAC,kBAAM;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2B;AAC3B;AACiE;AACxC;AACI;AAC2B;AAEzC,2EAAY;EACzB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAIE;EACA,IAAMA,QAAQ,GAAGC,6CAAM,CAACC,mBAAmB,CAAC,CAAC;EAC7C,IAAMC,SAAS,GAAGH,QAAQ,CAACI,cAAc;EACzC,IAAMC,QAAQ,GAAGC,iDAAI,CAACC,IAAI,CAAC,uDAAuD,EAAE,gBAAgB,CAAC;EACrGN,6CAAM,CAACO,MAAM,CAAEL,SAAS,CAACM,MAAM,EAAE;IAC/BC,MAAM,EAAE,MAAM;IACdJ,IAAI,EAAED;EACR,CAAC,CAAC;EACFM,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEP,QAAQ,CAAC;;EAEjC;EACAM,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;AAG/B,C;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAqE;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,OAAO,EAAmB;EAAA,IAAjBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACjD,IAAI;IACF;IACA,IAAMG,UAAU,GAAGC,yFAA8B,CAACN,OAAO,CAAC;IAE1D,IAAIK,UAAU,CAACE,KAAK,EAAE;MACpB,OAAO;QACLC,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEF,UAAU,CAACE,KAAK;QACvBE,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC;IACH;;IAEA;IACA,IAAMF,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;IAChE,IAAMC,SAAS,GAAGR,UAAU,CAACS,SAAS,GACpCT,UAAU,CAACS,SAAS,CAACC,IAAI,CAACH,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC,GACvD,eAAe;IACjB,IAAMI,QAAQ,sBAAAC,MAAA,CAAsBJ,SAAS,OAAAI,MAAA,CAAIR,SAAS,UAAO;;IAEjE;IACA,IAAMS,UAAU,GAAG;MACjBC,QAAQ,EAAE;QACRC,UAAU,EAAE,iBAAiB;QAC7BC,aAAa,EAAErB,OAAO,CAACsB,GAAG,CAACC,OAAO;QAClCC,UAAU,EAAE,IAAId,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QACpCK,QAAQ,EAAEA,QAAQ;QAClBf,OAAO,EAAEA;MACX,CAAC;MACDwB,MAAM,EAAEpB;IACV,CAAC;;IAED;IACA,IAAMqB,UAAU,GAAGC,IAAI,CAACC,SAAS,CAACV,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;;IAEtD;IACA,IAAMW,WAAW,GAAGH,UAAU;;IAE9B;IACA,OAAO;MACLlB,OAAO,EAAE,IAAI;MACbQ,QAAQ,EAAEA,QAAQ;MAClBa,WAAW,EAAEA,WAAW;MACxBC,QAAQ,EAAED,WAAW,CAAC1B,MAAM;MAC5B4B,UAAU,EAAE1B,UAAU,CAACc,QAAQ,GAAGd,UAAU,CAACc,QAAQ,CAACa,WAAW,GAAG,CAAC;MACrEvB,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;EAEH,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACd,OAAO;MACLC,OAAO,EAAE,KAAK;MACdD,KAAK,EAAEA,KAAK,CAAC0B,OAAO;MACpBxB,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;EACH;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMuB,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAIlC,OAAO,EAAK;EAC3C,IAAI;IACF,IAAMK,UAAU,GAAGC,yFAA8B,CAACN,OAAO,CAAC;IAE1D,IAAIK,UAAU,CAACE,KAAK,EAAE;MACpB,OAAO;QACLC,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEF,UAAU,CAACE;MACpB,CAAC;IACH;;IAEA;IACA,IAAMmB,UAAU,GAAGC,IAAI,CAACC,SAAS,CAACvB,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;;IAEtD;IACA,IAAIL,OAAO,CAACsB,GAAG,IAAItB,OAAO,CAACsB,GAAG,CAACa,eAAe,EAAE;MAC9CnC,OAAO,CAACsB,GAAG,CAACa,eAAe,CAACT,UAAU,CAAC;IACzC;IAEA,OAAO;MACLlB,OAAO,EAAE,IAAI;MACbyB,OAAO,EAAE,aAAa;MACtBH,QAAQ,EAAEJ,UAAU,CAACvB;IACvB,CAAC;EAEH,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,OAAO;MACLC,OAAO,EAAE,KAAK;MACdD,KAAK,EAAEA,KAAK,CAAC0B;IACf,CAAC;EACH;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIpC,OAAO,EAAK;EACvC,IAAI;IACF,IAAMK,UAAU,GAAGC,yFAA8B,CAACN,OAAO,CAAC;IAE1D,IAAIK,UAAU,CAACE,KAAK,EAAE;MACpB,OAAO;QACLC,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEF,UAAU,CAACE;MACpB,CAAC;IACH;IAEA,IAAM8B,KAAK,GAAG;MACZ7B,OAAO,EAAE,IAAI;MACb8B,aAAa,EAAEjC,UAAU,CAACS,SAAS,GAAGT,UAAU,CAACS,SAAS,CAACC,IAAI,GAAG,KAAK;MACvEwB,aAAa,EAAElC,UAAU,CAACS,SAAS,GAAGT,UAAU,CAACS,SAAS,CAAC0B,IAAI,GAAG,KAAK;MACvER,WAAW,EAAE3B,UAAU,CAACc,QAAQ,GAAGd,UAAU,CAACc,QAAQ,CAACa,WAAW,GAAG,CAAC;MACtES,UAAU,EAAEpC,UAAU,CAACc,QAAQ,GAAGd,UAAU,CAACc,QAAQ,CAACsB,UAAU,GAAG,CAAC,CAAC;MACrEC,QAAQ,EAAE,KAAK;MACfC,UAAU,EAAE,KAAK;MACjBC,UAAU,EAAE,KAAK;MACjBC,aAAa,EAAE,KAAK;MACpBpC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;;IAED;IACA,IAAMmC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,KAAK,EAAK;MACpC,IAAIA,KAAK,CAACC,KAAK,EAAE;QACf,IAAID,KAAK,CAACC,KAAK,CAACC,KAAK,IAAIF,KAAK,CAACC,KAAK,CAACC,KAAK,CAAC9C,MAAM,GAAG,CAAC,EAAEkC,KAAK,CAACK,QAAQ,GAAG,IAAI;QAC5E,IAAIK,KAAK,CAACC,KAAK,CAACE,OAAO,IAAIH,KAAK,CAACC,KAAK,CAACE,OAAO,CAAC/C,MAAM,GAAG,CAAC,EAAEkC,KAAK,CAACM,UAAU,GAAG,IAAI;QAClF,IAAII,KAAK,CAACC,KAAK,CAACG,OAAO,IAAIJ,KAAK,CAACC,KAAK,CAACG,OAAO,CAAChD,MAAM,GAAG,CAAC,EAAEkC,KAAK,CAACO,UAAU,GAAG,IAAI;QAClF,IAAIG,KAAK,CAACC,KAAK,CAACI,SAAS,EAAEf,KAAK,CAACQ,aAAa,GAAG,IAAI;MACvD;IACF,CAAC;;IAED;IACA,IAAIxC,UAAU,CAACS,SAAS,EAAE;MACxBgC,kBAAkB,CAACzC,UAAU,CAACS,SAAS,CAAC;IAC1C;;IAEA;IACA,IAAIT,UAAU,CAACgD,QAAQ,EAAE;MACvBhD,UAAU,CAACgD,QAAQ,CAACC,OAAO,CAAC,UAAAC,KAAK,EAAI;QACnCT,kBAAkB,CAACS,KAAK,CAAC;MAC3B,CAAC,CAAC;IACJ;IAEA,OAAOlB,KAAK;EAEd,CAAC,CAAC,OAAO9B,KAAK,EAAE;IACd,OAAO;MACLC,OAAO,EAAE,KAAK;MACdD,KAAK,EAAEA,KAAK,CAAC0B;IACf,CAAC;EACH;AACF,CAAC;;;;;;;;;;;;;AClKD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,IAAMuB,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIT,KAAK,EAAK;EACxC,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,IAAI;EACb;EAEA,IAAMtB,MAAM,GAAG;IACb;IACAgC,EAAE,EAAEV,KAAK,CAACU,EAAE;IACZ1C,IAAI,EAAEgC,KAAK,CAAChC,IAAI;IAChByB,IAAI,EAAEO,KAAK,CAACP,IAAI;IAEhB;IACAkB,KAAK,EAAEX,KAAK,CAACW,KAAK,GAAG;MACnBC,CAAC,EAAEZ,KAAK,CAACW,KAAK,CAACC,CAAC;MAChBC,CAAC,EAAEb,KAAK,CAACW,KAAK,CAACE,CAAC;MAChBC,KAAK,EAAEd,KAAK,CAACW,KAAK,CAACG,KAAK;MACxBC,MAAM,EAAEf,KAAK,CAACW,KAAK,CAACI;IACtB,CAAC,GAAG,IAAI;IAER;IACAC,SAAS,EAAEhB,KAAK,CAACgB,SAAS,GAAG;MAC3BC,QAAQ,EAAEjB,KAAK,CAACgB,SAAS,CAACC,QAAQ;MAClCC,mBAAmB,EAAElB,KAAK,CAACgB,SAAS,CAACE,mBAAmB;MACxDC,iBAAiB,EAAEnB,KAAK,CAACgB,SAAS,CAACG;IACrC,CAAC,GAAG,IAAI;IAER;IACAlB,KAAK,EAAE,CAAC;EACV,CAAC;;EAED;EACA,IAAID,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACC,KAAK,EAAE;IACpCxB,MAAM,CAACuB,KAAK,CAACC,KAAK,GAAGF,KAAK,CAACC,KAAK,CAACC,KAAK,CAACkB,GAAG,CAAC,UAAAC,IAAI;MAAA,OAAK;QAClDC,QAAQ,EAAED,IAAI,CAACC,QAAQ;QACvBC,KAAK,EAAEF,IAAI,CAACE,KAAK,GAAG;UAClBC,GAAG,EAAEH,IAAI,CAACE,KAAK,CAACC,GAAG;UACnBC,KAAK,EAAEJ,IAAI,CAACE,KAAK,CAACE,KAAK;UACvBC,IAAI,EAAEL,IAAI,CAACE,KAAK,CAACG,IAAI;UACrBC,KAAK,EAAEN,IAAI,CAACE,KAAK,CAACI;QACpB,CAAC,GAAG,IAAI;QACRC,QAAQ,EAAEP,IAAI,CAACO,QAAQ;QACvBC,OAAO,EAAER,IAAI,CAACQ,OAAO;QACrBC,UAAU,EAAET,IAAI,CAACS,UAAU;QAC3BC,cAAc,EAAEV,IAAI,CAACU,cAAc;QACnCC,SAAS,EAAEX,IAAI,CAACW;MAClB,CAAC;IAAA,CAAC,CAAC;EACL;;EAEA;EACA,IAAIhC,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACE,OAAO,EAAE;IACtCzB,MAAM,CAACuB,KAAK,CAACE,OAAO,GAAGH,KAAK,CAACC,KAAK,CAACE,OAAO,CAACiB,GAAG,CAAC,UAAAa,MAAM;MAAA,OAAK;QACxDX,QAAQ,EAAEW,MAAM,CAACX,QAAQ;QACzBC,KAAK,EAAEU,MAAM,CAACV,KAAK,GAAG;UACpBC,GAAG,EAAES,MAAM,CAACV,KAAK,CAACC,GAAG;UACrBC,KAAK,EAAEQ,MAAM,CAACV,KAAK,CAACE,KAAK;UACzBC,IAAI,EAAEO,MAAM,CAACV,KAAK,CAACG,IAAI;UACvBC,KAAK,EAAEM,MAAM,CAACV,KAAK,CAACI;QACtB,CAAC,GAAG,IAAI;QACRO,SAAS,EAAED,MAAM,CAACC,SAAS;QAC3BC,QAAQ,EAAEF,MAAM,CAACE,QAAQ;QACzBH,SAAS,EAAEC,MAAM,CAACD;MACpB,CAAC;IAAA,CAAC,CAAC;EACL;;EAEA;EACA,IAAIhC,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACG,OAAO,EAAE;IACtC1B,MAAM,CAACuB,KAAK,CAACG,OAAO,GAAGJ,KAAK,CAACC,KAAK,CAACG,OAAO,CAACgB,GAAG,CAAC,UAAAgB,MAAM;MAAA,OAAK;QACxDb,KAAK,EAAEa,MAAM,CAACb,KAAK,GAAG;UACpBC,GAAG,EAAEY,MAAM,CAACb,KAAK,CAACC,GAAG;UACrBC,KAAK,EAAEW,MAAM,CAACb,KAAK,CAACE,KAAK;UACzBC,IAAI,EAAEU,MAAM,CAACb,KAAK,CAACG,IAAI;UACvBC,KAAK,EAAES,MAAM,CAACb,KAAK,CAACI;QACtB,CAAC,GAAG,IAAI;QACRU,OAAO,EAAED,MAAM,CAACC,OAAO;QACvBC,OAAO,EAAEF,MAAM,CAACE,OAAO;QACvBC,UAAU,EAAEH,MAAM,CAACG,UAAU;QAC7BC,MAAM,EAAEJ,MAAM,CAACI,MAAM;QACrBR,SAAS,EAAEI,MAAM,CAACJ;MACpB,CAAC;IAAA,CAAC,CAAC;EACL;;EAEA;EACA,IAAIhC,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACwC,YAAY,EAAE;IAC3C/D,MAAM,CAACuB,KAAK,CAACwC,YAAY,GAAGzC,KAAK,CAACC,KAAK,CAACwC,YAAY,CAACrB,GAAG,CAAC,UAAAgB,MAAM;MAAA,OAAK;QAClEb,KAAK,EAAEa,MAAM,CAACb,KAAK,GAAG;UACpBC,GAAG,EAAEY,MAAM,CAACb,KAAK,CAACC,GAAG;UACrBC,KAAK,EAAEW,MAAM,CAACb,KAAK,CAACE,KAAK;UACzBC,IAAI,EAAEU,MAAM,CAACb,KAAK,CAACG,IAAI;UACvBC,KAAK,EAAES,MAAM,CAACb,KAAK,CAACI;QACtB,CAAC,GAAG,IAAI;QACRU,OAAO,EAAED,MAAM,CAACC,OAAO;QACvBC,OAAO,EAAEF,MAAM,CAACE,OAAO;QACvBC,UAAU,EAAEH,MAAM,CAACG,UAAU;QAC7BC,MAAM,EAAEJ,MAAM,CAACI,MAAM;QACrBR,SAAS,EAAEI,MAAM,CAACJ;MACpB,CAAC;IAAA,CAAC,CAAC;EACL;;EAEA;EACA,IAAIhC,KAAK,CAACP,IAAI,KAAK,MAAM,IAAIO,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACI,SAAS,EAAE;IACjE3B,MAAM,CAACuB,KAAK,CAACI,SAAS,GAAG;MACvBqC,QAAQ,EAAE1C,KAAK,CAACC,KAAK,CAACI,SAAS,CAACqC,QAAQ;MACxCC,QAAQ,EAAE3C,KAAK,CAACC,KAAK,CAACI,SAAS,CAACsC,QAAQ;MACxCC,UAAU,EAAE5C,KAAK,CAACC,KAAK,CAACI,SAAS,CAACuC,UAAU;MAC5CC,aAAa,EAAE7C,KAAK,CAACC,KAAK,CAACI,SAAS,CAACwC,aAAa;MAClDC,SAAS,EAAE9C,KAAK,CAACC,KAAK,CAACI,SAAS,CAACyC,SAAS;MAC1CvB,KAAK,EAAEvB,KAAK,CAACC,KAAK,CAACI,SAAS,CAACkB,KAAK,GAAG;QACnCC,GAAG,EAAExB,KAAK,CAACC,KAAK,CAACI,SAAS,CAACkB,KAAK,CAACC,GAAG;QACpCC,KAAK,EAAEzB,KAAK,CAACC,KAAK,CAACI,SAAS,CAACkB,KAAK,CAACE,KAAK;QACxCC,IAAI,EAAE1B,KAAK,CAACC,KAAK,CAACI,SAAS,CAACkB,KAAK,CAACG,IAAI;QACtCC,KAAK,EAAE3B,KAAK,CAACC,KAAK,CAACI,SAAS,CAACkB,KAAK,CAACI;MACrC,CAAC,GAAG;IACN,CAAC;EACH;;EAEA;EACA,IAAI3B,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAAC8C,IAAI,EAAE;IACnCrE,MAAM,CAACuB,KAAK,CAAC8C,IAAI,GAAG;MAClBtD,IAAI,EAAEO,KAAK,CAACC,KAAK,CAAC8C,IAAI,CAACtD,IAAI;MAC3BuD,MAAM,EAAEhD,KAAK,CAACC,KAAK,CAAC8C,IAAI,CAACC,MAAM;MAC/BC,MAAM,EAAEjD,KAAK,CAACC,KAAK,CAAC8C,IAAI,CAACE,MAAM;MAC/BC,WAAW,EAAElD,KAAK,CAACC,KAAK,CAAC8C,IAAI,CAACG,WAAW;MACzClB,SAAS,EAAEhC,KAAK,CAACC,KAAK,CAAC8C,IAAI,CAACf;IAC9B,CAAC;EACH;;EAEA;EACA,IAAIhC,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACkD,SAAS,EAAE;IACxCzE,MAAM,CAACuB,KAAK,CAACkD,SAAS,GAAGnD,KAAK,CAACC,KAAK,CAACkD,SAAS;EAChD;;EAEA;EACA,IAAInD,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAACmD,OAAO,KAAK/F,SAAS,EAAE;IACpDqB,MAAM,CAACuB,KAAK,CAACmD,OAAO,GAAGpD,KAAK,CAACC,KAAK,CAACmD,OAAO;EAC5C;EAEA,OAAO1E,MAAM;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAM2E,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAItF,SAAS,EAAK;EAChD,IAAI,CAACA,SAAS,EAAE;IACd,OAAO,IAAI;EACb;EAEA,IAAMuF,MAAM,GAAG;IACbvF,SAAS,EAAE0C,sBAAsB,CAAC1C,SAAS,CAAC;IAC5CuC,QAAQ,EAAE,EAAE;IACZlC,QAAQ,EAAE;MACRa,WAAW,EAAE,CAAC;MACdS,UAAU,EAAE,CAAC,CAAC;MACdhC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC;EACF,CAAC;;EAED;EACA,IAAIG,SAAS,CAACnB,MAAM,IAAImB,SAAS,CAACnB,MAAM,CAACQ,MAAM,GAAG,CAAC,EAAE;IACnDkG,MAAM,CAAChD,QAAQ,GAAGvC,SAAS,CAACnB,MAAM,CAACwE,GAAG,CAAC,UAAAZ,KAAK,EAAI;MAC9C,IAAM+C,WAAW,GAAG9C,sBAAsB,CAACD,KAAK,CAAC;;MAEjD;MACA,IAAIA,KAAK,CAACf,IAAI,EAAE;QACd6D,MAAM,CAAClF,QAAQ,CAACsB,UAAU,CAACc,KAAK,CAACf,IAAI,CAAC,GAAG,CAAC6D,MAAM,CAAClF,QAAQ,CAACsB,UAAU,CAACc,KAAK,CAACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;MAC5F;MACA6D,MAAM,CAAClF,QAAQ,CAACa,WAAW,EAAE;MAE7B,OAAOsE,WAAW;IACpB,CAAC,CAAC;EACJ;EAEA,OAAOD,MAAM;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAM/F,8BAA8B,GAAG,SAAjCA,8BAA8BA,CAAIN,OAAO,EAAK;EAClD,IAAI;IACF,IAAMV,cAAc,GAAGU,OAAO,CAACX,SAAS;IAExC,IAAI,CAACC,cAAc,IAAIA,cAAc,CAACa,MAAM,KAAK,CAAC,EAAE;MAClD,OAAO;QACLI,KAAK,EAAE,SAAS;QAChBE,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC;IACH;IAEA,IAAM4F,YAAY,GAAGjH,cAAc,CAAC,CAAC,CAAC;;IAEtC;IACA,IAAIiH,YAAY,CAAC/D,IAAI,KAAK,OAAO,IAAI+D,YAAY,CAAC/D,IAAI,KAAK,UAAU,EAAE;MACrE,OAAO4D,0BAA0B,CAACG,YAAY,CAAC;IACjD;;IAEA;IACA,IAAIC,WAAW,GAAGD,YAAY,CAACE,MAAM;IACrC,OAAOD,WAAW,EAAE;MAClB,IAAIA,WAAW,CAAChE,IAAI,KAAK,OAAO,IAAIgE,WAAW,CAAChE,IAAI,KAAK,UAAU,EAAE;QACnE,OAAO4D,0BAA0B,CAACI,WAAW,CAAC;MAChD;MACAA,WAAW,GAAGA,WAAW,CAACC,MAAM;IAClC;;IAEA;IACA,OAAO;MACLC,WAAW,EAAElD,sBAAsB,CAAC+C,YAAY,CAAC;MACjDI,IAAI,EAAE,gBAAgB;MACtBlG,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;EAEH,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACd,OAAO;MACLA,KAAK,EAAEA,KAAK,CAAC0B,OAAO;MACpBxB,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;EACH;AACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnOoE;AAC+B;;AAEpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMiG,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIC,aAAa,EAAmB;EAAA,IAAjB5G,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAC7D,IAAI;IACF;IACAL,OAAO,CAACC,GAAG,CAAC,CAAC,CAAC;IAEd,IAAMgH,UAAU,GAAGC,sBAAsB,CAACF,aAAa,CAAC;IACxDhH,OAAO,CAACC,GAAG,CAACgH,UAAU,CAAC;IAEvB,IAAI,CAACA,UAAU,CAACE,KAAK,EAAE;MACrB,OAAO;QACLxG,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEuG,UAAU,CAAC7E,OAAO;QACzBO,IAAI,EAAE;MACR,CAAC;IACH;;IAEA;IACA,IAAMnC,UAAU,GAAGC,yFAA8B,CAACuG,aAAa,CAAC;IAChEhH,OAAO,CAACC,GAAG,CAACO,UAAU,CAAC;IAEvB,IAAIA,UAAU,CAACE,KAAK,EAAE;MACpB,OAAO;QACLC,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEF,UAAU,CAACE,KAAK;QACvBiC,IAAI,EAAE;MACR,CAAC;IACH;;IAEA;IACA,IAAMyE,YAAY,GAAGlH,0EAAoB,CAAC8G,aAAa,EAAAK,aAAA;MACrDC,eAAe,EAAE,IAAI;MACrBvH,MAAM,EAAE;IAAQ,GACbK,OAAO,CACX,CAAC;IAEF,IAAI,CAACgH,YAAY,CAACzG,OAAO,EAAE;MACzB,OAAO;QACLA,OAAO,EAAE,KAAK;QACdD,KAAK,EAAE0G,YAAY,CAAC1G,KAAK;QACzBiC,IAAI,EAAE,cAAc;QACpBnC,UAAU,EAAEA;MACd,CAAC;IACH;;IAEA;IACA,OAAO;MACLG,OAAO,EAAE,IAAI;MACbsG,UAAU,EAAEA,UAAU;MACtBzG,UAAU,EAAEA,UAAU;MACtB4G,YAAY,EAAEA,YAAY;MAC1BG,UAAU,EAAE;QACVrF,UAAU,EAAEkF,YAAY,CAAClF,UAAU;QACnCD,QAAQ,EAAEmF,YAAY,CAACnF,QAAQ;QAC/Bd,QAAQ,EAAEiG,YAAY,CAACjG,QAAQ;QAC/BsB,aAAa,EAAEjC,UAAU,CAACS,SAAS,GAAGT,UAAU,CAACS,SAAS,CAACC,IAAI,GAAG,KAAK;QACvEwB,aAAa,EAAElC,UAAU,CAACS,SAAS,GAAGT,UAAU,CAACS,SAAS,CAAC0B,IAAI,GAAG;MACpE;IACF,CAAC;EAEH,CAAC,CAAC,OAAOjC,KAAK,EAAE;IACd,OAAO;MACLC,OAAO,EAAE,KAAK;MACdD,KAAK,EAAEA,KAAK,CAAC0B,OAAO;MACpBO,IAAI,EAAE;IACR,CAAC;EACH;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMuE,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIF,aAAa,EAAK;EAChD,IAAMvH,cAAc,GAAGuH,aAAa,CAACxH,SAAS;EAC9C,IAAI,CAACC,cAAc,IAAIA,cAAc,CAACa,MAAM,KAAK,CAAC,EAAE;IAClD,OAAO;MACL6G,KAAK,EAAE,KAAK;MACZ/E,OAAO,EAAE;IACX,CAAC;EACH;EAEApC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAER,cAAc,CAAC;EAC7CO,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAER,cAAc,CAACa,MAAM,CAAC;EAE3D,IAAM4C,KAAK,GAAGzD,cAAc,CAAC,CAAC,CAAC;EAC/BO,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEiD,KAAK,CAAC;EAC3B,IAAMsE,WAAW,GAAGtE,KAAK,CAACP,IAAI,KAAK,OAAO,IAAIO,KAAK,CAACP,IAAI,KAAK,UAAU;EAEvE,IAAI6E,WAAW,EAAE;IACf,OAAO;MACLL,KAAK,EAAE,IAAI;MACX/E,OAAO,uBAAAhB,MAAA,CAAQ8B,KAAK,CAACP,IAAI,sCAAAvB,MAAA,CAAU8B,KAAK,CAAChC,IAAI,CAAE;MAC/CuG,SAAS,EAAEvE,KAAK,CAACP,IAAI;MACrB3B,SAAS,EAAEkC,KAAK,CAAChC;IACnB,CAAC;EACH;;EAEA;EACA,IAAI0F,MAAM,GAAG1D,KAAK,CAAC0D,MAAM;EACzB,OAAOA,MAAM,EAAE;IACb,IAAIA,MAAM,CAACjE,IAAI,KAAK,OAAO,IAAIiE,MAAM,CAACjE,IAAI,KAAK,UAAU,EAAE;MACzD,OAAO;QACLwE,KAAK,EAAE,IAAI;QACX/E,OAAO,uBAAAhB,MAAA,CAAQwF,MAAM,CAACjE,IAAI,kDAAAvB,MAAA,CAAYwF,MAAM,CAAC1F,IAAI,CAAE;QACnDuG,SAAS,EAAEb,MAAM,CAACjE,IAAI;QACtB3B,SAAS,EAAE4F,MAAM,CAAC1F,IAAI;QACtBwG,aAAa,EAAExE,KAAK,CAAChC;MACvB,CAAC;IACH;IACA0F,MAAM,GAAGA,MAAM,CAACA,MAAM;EACxB;EAEA,OAAO;IACLO,KAAK,EAAE,KAAK;IACZ/E,OAAO,EAAE;EACX,CAAC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMuF,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIX,aAAa,EAAK;EAChD,IAAMC,UAAU,GAAGC,sBAAsB,CAACF,aAAa,CAAC;EACxD,IAAI,CAACC,UAAU,CAACE,KAAK,EAAE;IACrB,OAAO;MACLxG,OAAO,EAAE,KAAK;MACdD,KAAK,EAAEuG,UAAU,CAAC7E;IACpB,CAAC;EACH;EAEA,IAAM5B,UAAU,GAAGC,yFAA8B,CAACuG,aAAa,CAAC;EAChE,IAAIxG,UAAU,CAACE,KAAK,EAAE;IACpB,OAAO;MACLC,OAAO,EAAE,KAAK;MACdD,KAAK,EAAEF,UAAU,CAACE;IACpB,CAAC;EACH;EAEA,OAAO;IACLC,OAAO,EAAE,IAAI;IACbiH,IAAI,EAAEpH,UAAU;IAChByG,UAAU,EAAEA;EACd,CAAC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAMY,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIb,aAAa,EAAmB;EAAA,IAAjB5G,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACpD,OAAOH,0EAAoB,CAAC8G,aAAa,EAAAK,aAAA;IACvCC,eAAe,EAAE,IAAI;IACrBvH,MAAM,EAAE;EAAQ,GACbK,OAAO,CACX,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAM0H,cAAc,GAAG,SAAjBA,cAAcA,CAAId,aAAa,EAAK;EACxC,OAAOzE,yEAAmB,CAACyE,aAAa,CAAC;AAC3C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMe,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIf,aAAa,EAAK;EACrD,OAAO3E,6EAAuB,CAAC2E,aAAa,CAAC;AAC/C,CAAC;;AAED;AAAA,IACMgB,qBAAqB;EACzB,SAAAA,sBAAY7H,OAAO,EAAE;IAAA8H,4EAAA,OAAAD,qBAAA;IACnB,IAAI,CAAC7H,OAAO,GAAGA,OAAO;EACxB;EAAC,OAAA+H,yEAAA,CAAAF,qBAAA;IAAAG,GAAA;IAAAC,KAAA,EAED,SAAAC,SAASA,CAAA,EAAG;MACV,OAAO5H,yFAA8B,CAAC,IAAI,CAACN,OAAO,CAAC;IACrD;EAAC;IAAAgI,GAAA;IAAAC,KAAA,EAED,SAAAE,YAAYA,CAAA,EAAe;MAAA,IAAdlI,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MACvB,OAAOH,0EAAoB,CAAC,IAAI,CAACC,OAAO,EAAEC,OAAO,CAAC;IACpD;EAAC;IAAA+H,GAAA;IAAAC,KAAA,EAED,SAAAG,iBAAiBA,CAAA,EAAG;MAClB,OAAOR,2BAA2B,CAAC,IAAI,CAAC5H,OAAO,CAAC;IAClD;EAAC;IAAAgI,GAAA;IAAAC,KAAA,EAED,SAAAI,aAAaA,CAAA,EAAG;MACd,OAAOjG,yEAAmB,CAAC,IAAI,CAACpC,OAAO,CAAC;IAC1C;EAAC;IAAAgI,GAAA;IAAAC,KAAA,EAED,SAAAK,iBAAiBA,CAAA,EAAG;MAClB,OAAOvB,sBAAsB,CAAC,IAAI,CAAC/G,OAAO,CAAC;IAC7C;EAAC;AAAA;AAGH,IAAMuI,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIvI,OAAO,EAAK;EAC/C,OAAO,IAAI6H,qBAAqB,CAAC7H,OAAO,CAAC;AAC3C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMwI,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIrJ,MAAM,EAAEsJ,EAAE,EAAEjJ,IAAI,EAAK;EAClD,IAAI;IACF;IACA,IAAMN,QAAQ,GAAGC,MAAM,CAACC,mBAAmB,CAAC,CAAC;IAC7C,IAAMC,SAAS,GAAGH,QAAQ,CAACI,cAAc;IAEzC,IAAI,CAACD,SAAS,IAAIA,SAAS,CAACc,MAAM,KAAK,CAAC,EAAE;MACxChB,MAAM,CAACuJ,EAAE,CAACzG,OAAO,CAAC,aAAa,CAAC;MAChC,OAAO;QACLzB,OAAO,EAAE,KAAK;QACdD,KAAK,EAAE;MACT,CAAC;IACH;IACAV,OAAO,CAACC,GAAG,CAAC,WAAW,EAAET,SAAS,CAACM,MAAM,CAAC;;IAG1C;IACA,IAAMkH,aAAa,GAAG;MAAExH,SAAS,EAATA;IAAU,CAAC;;IAGnC;IACA,IAAMgH,MAAM,GAAGO,0BAA0B,CAACC,aAAa,CAAC;IAExD,IAAIR,MAAM,CAAC7F,OAAO,EAAE;MAClB;MACA,IAAMjB,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACkJ,OAAO,CAACC,GAAG,CAAC,CAAC,EAAEvC,MAAM,CAACY,YAAY,CAACjG,QAAQ,CAAC;MACvEyH,EAAE,CAACI,aAAa,CAACtJ,QAAQ,EAAE8G,MAAM,CAACY,YAAY,CAACpF,WAAW,EAAE,MAAM,CAAC;;MAEnE;MACA1C,MAAM,CAACuJ,EAAE,CAACzG,OAAO,sDAAAhB,MAAA,CAAcoF,MAAM,CAACY,YAAY,CAACjG,QAAQ,CAAE,CAAC;;MAE9D;MACAnB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE;QACnBgJ,IAAI,EAAEzC,MAAM,CAACe,UAAU,CAACrF,UAAU;QAClCgH,IAAI,EAAE1C,MAAM,CAACe,UAAU,CAACtF,QAAQ,GAAG,QAAQ;QAC3CkH,IAAI,EAAE3C,MAAM,CAACe,UAAU,CAAC9E,aAAa;QACrC2G,IAAI,EAAE5C,MAAM,CAACe,UAAU,CAAC7E;MAC1B,CAAC,CAAC;MAEF,OAAO;QACL/B,OAAO,EAAE,IAAI;QACbQ,QAAQ,EAAEqF,MAAM,CAACY,YAAY,CAACjG,QAAQ;QACtCoG,UAAU,EAAEf,MAAM,CAACe;MACrB,CAAC;IACH,CAAC,MAAM;MACL;MACAjI,MAAM,CAACuJ,EAAE,CAACzG,OAAO,CAAC,QAAQ,GAAGoE,MAAM,CAAC9F,KAAK,CAAC;MAC1C,OAAO;QACLC,OAAO,EAAE,KAAK;QACdD,KAAK,EAAE8F,MAAM,CAAC9F;MAChB,CAAC;IACH;EAEF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACd,IAAM2I,YAAY,GAAG,eAAe,GAAG3I,KAAK,CAAC0B,OAAO;IACpD9C,MAAM,CAACuJ,EAAE,CAACzG,OAAO,CAACiH,YAAY,CAAC;IAC/B,OAAO;MACL1I,OAAO,EAAE,KAAK;MACdD,KAAK,EAAE2I;IACT,CAAC;EACH;AACF,CAAC;;;;;;;;;;;;;;;;;;;;;AClS8C;AACU;AACA;AAEzD,IAAMC,kBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,YAAY,EAAoD;EAAA,IAAlDC,gBAAgB,GAAAnJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,OAAO;EAAA,IAAEoJ,UAAU,GAAApJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EACpF;EACA,IAAMqJ,WAAW,GAAGH,YAAY,CAAC1F,KAAK,GAClC;IAAEG,KAAK,EAAEuF,YAAY,CAAC1F,KAAK,CAACG,KAAK;IAAEC,MAAM,EAAEsF,YAAY,CAAC1F,KAAK,CAACI;EAAO,CAAC,GACtEwF,UAAU;;EAId;EACA,IAAI,CAACF,YAAY,CAACzJ,MAAM,EAAE;IACxB;IACA,IAAMqD,MAAK,GAAGwG,gEAAe,CAC3BJ,YAAY,EACZ;MACEK,QAAQ,EAAEJ,gBAAgB,KAAK,MAAM;MACrCC,UAAU,EAAED,gBAAgB,KAAK,MAAM,GAAGC,UAAU,GAAG;IACzD,CACF,CAAC;IACD,OAAO;MACLtG,KAAK,EAALA,MAAK;MACLK,QAAQ,EAAE;IACZ,CAAC;EACH;;EAEA;EACA,IAAQ1D,MAAM,GAAKyJ,YAAY,CAAvBzJ,MAAM;EAEd,IAAM+J,KAAK,GAAG/J,MAAM,CAACwE,GAAG,CAAC,UAAApB,KAAK;IAAA,OAAIA,KAAK,CAACW,KAAK,CAACC,CAAC;EAAA,EAAC;EAChD,IAAMgG,KAAK,GAAGhK,MAAM,CAACwE,GAAG,CAAC,UAAApB,KAAK;IAAA,OAAIA,KAAK,CAACW,KAAK,CAACE,CAAC;EAAA,EAAC;EAChD/D,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EACjBD,OAAO,CAACC,GAAG,CAACsJ,YAAY,CAAC;EACzBvJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EAGjB,IAAM8J,WAAW,GAAGC,+EAAA,CAAI,IAAIC,GAAG,CAACJ,KAAK,CAAC,EAAEK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,GAAGC,CAAC;EAAA,EAAC;EAC7D,IAAMC,WAAW,GAAGL,+EAAA,CAAI,IAAIC,GAAG,CAACH,KAAK,CAAC,EAAEI,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,GAAGC,CAAC;EAAA,EAAC;EAC7D,IAAME,WAAW,GAAGP,WAAW,CAACzJ,MAAM;EACtC,IAAMiK,QAAQ,GAAGF,WAAW,CAAC/J,MAAM;EAEnC,IAAI6C,KAAK,EAAEqH,UAAU;EACrB,IAAIF,WAAW,GAAG,CAAC,IAAIC,QAAQ,GAAG,CAAC,EAAE;IACnCpH,KAAK,GAAGsH,8EAAkB,CAAC3K,MAAM,EAAEiK,WAAW,EAAEM,WAAW,CAAC;IAC5DG,UAAU,GAAG,MAAM;EACrB,CAAC,MAAM;IACLrH,KAAK,GAAGuH,8EAAkB,CAACnB,YAAY,EAAEI,gEAAe,CAACJ,YAAY,EAAE;MAAEK,QAAQ,EAAEJ,gBAAgB,KAAK,MAAM;MAAEC,UAAU,EAAEA;IAAW,CAAC,CAAC,EAAEa,WAAW,EAAEC,QAAQ,CAAC;IACjKC,UAAU,GAAG,MAAM;EACrB;;EAEA;EACA,IAAMG,YAAY,GAAGX,+EAAA,CAAIlK,MAAM,EAAEoK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;IAC9C,IAAID,CAAC,CAACtG,KAAK,CAACC,CAAC,KAAKsG,CAAC,CAACvG,KAAK,CAACC,CAAC,EAAE;MAC3B,OAAOqG,CAAC,CAACtG,KAAK,CAACC,CAAC,GAAGsG,CAAC,CAACvG,KAAK,CAACC,CAAC;IAC9B;IACA,OAAOqG,CAAC,CAACtG,KAAK,CAACE,CAAC,GAAGqG,CAAC,CAACvG,KAAK,CAACE,CAAC;EAC9B,CAAC,CAAC;EACF,IAAMP,QAAQ,GAAGmH,YAAY,CAACrG,GAAG,CAAC,UAAAZ,KAAK;IAAA,OAAI4F,kBAAiB,CAAC5F,KAAK,EAAE8G,UAAU,EAAEd,WAAW,CAAC;EAAA,EAAC;EAE7F,OAAO;IACLvG,KAAK,EAALA,KAAK;IACLK,QAAQ,EAARA;EACF,CAAC;AACH,CAAC;;;;;;;;;;;;;ACjED;AAAA,SAASmG,eAAeA,CAACzG,KAAK,EAAgB;EAAA,IAAd9C,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAC1C,IAAI,CAAC6C,KAAK,EAAE,OAAO,CAAC,CAAC;EACrB,IAAMC,KAAK,GAAGD,KAAK,CAACC,KAAK,IAAI,CAAC,CAAC;EAC/B,IAAMyH,GAAG,GAAG;IACV1J,IAAI,EAAEgC,KAAK,CAAChC;EACd,CAAC;EACD,IAAM0I,QAAQ,GAAGxJ,OAAO,CAACwJ,QAAQ,KAAK,IAAI;EAC1C,IAAMH,UAAU,GAAGrJ,OAAO,CAACqJ,UAAU;;EAErC;EACA,IAAI,OAAOvG,KAAK,CAAChC,IAAI,KAAK,QAAQ,IAAIgC,KAAK,CAAChC,IAAI,CAAC2J,UAAU,CAAC,GAAG,CAAC,EAAE;IAChE;IACAD,GAAG,CAAC5G,KAAK,GAAG,MAAM;IAClB4G,GAAG,CAAC3G,MAAM,GAAG,MAAM;EACrB,CAAC,MAAM,IAAIf,KAAK,CAACW,KAAK,EAAE;IACtB,IAAI+F,QAAQ,IAAIH,UAAU,IAAIA,UAAU,CAACzF,KAAK,IAAIyF,UAAU,CAACxF,MAAM,EAAE;MACnE2G,GAAG,CAACE,QAAQ,GAAG,CAAE5H,KAAK,CAACW,KAAK,CAACG,KAAK,GAAGyF,UAAU,CAACzF,KAAK,GAAI,GAAG,EAAE+G,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;MAC9EH,GAAG,CAACI,SAAS,GAAG,CAAE9H,KAAK,CAACW,KAAK,CAACI,MAAM,GAAGwF,UAAU,CAACxF,MAAM,GAAI,GAAG,EAAE8G,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;MACjFH,GAAG,CAACK,IAAI,GAAG,UAAU;MACrBL,GAAG,CAACM,SAAS,GAAG,SAAS;IAC3B,CAAC,MAAM,IAAItB,QAAQ,EAAE;MACnBgB,GAAG,CAACE,QAAQ,GAAG5H,KAAK,CAACW,KAAK,CAACG,KAAK,GAAG,IAAI;MACvC4G,GAAG,CAACI,SAAS,GAAG9H,KAAK,CAACW,KAAK,CAACI,MAAM,GAAG,IAAI;MACzC2G,GAAG,CAACK,IAAI,GAAG,UAAU;MACrBL,GAAG,CAACM,SAAS,GAAG,SAAS;IAC3B,CAAC,MAAM;MACLN,GAAG,CAAC5G,KAAK,GAAGd,KAAK,CAACW,KAAK,CAACG,KAAK,GAAG,IAAI;MACpC4G,GAAG,CAAC3G,MAAM,GAAGf,KAAK,CAACW,KAAK,CAACI,MAAM,GAAG,IAAI;IACxC;EACF;;EAEA;EACA,IAAI,OAAOf,KAAK,CAACoD,OAAO,KAAK,QAAQ,EAAE;IACrCsE,GAAG,CAACtE,OAAO,GAAGpD,KAAK,CAACoD,OAAO;EAC7B;EACA,IAAI,OAAOpD,KAAK,CAACiB,QAAQ,KAAK,QAAQ,IAAIjB,KAAK,CAACiB,QAAQ,KAAK,CAAC,EAAE;IAC9DyG,GAAG,CAAC1G,SAAS,aAAA9C,MAAA,CAAa8B,KAAK,CAACiB,QAAQ,SAAM;EAChD;;EAEA;EACA,IAAIhB,KAAK,CAACC,KAAK,IAAID,KAAK,CAACC,KAAK,CAAC9C,MAAM,GAAG,CAAC,EAAE;IACzC,IAAMiE,IAAI,GAAGpB,KAAK,CAACC,KAAK,CAAC+H,IAAI,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACC,OAAO,IAAID,CAAC,CAAC5G,QAAQ,KAAK,OAAO;IAAA,EAAC;IACvE,IAAID,IAAI,EAAE;MACRqG,GAAG,CAACU,eAAe,GAAG/G,IAAI,CAACE,KAAK;IAClC;EACF;;EAEA;EACA,IAAItB,KAAK,CAACE,OAAO,IAAIF,KAAK,CAACE,OAAO,CAAC/C,MAAM,GAAG,CAAC,EAAE;IAC7C,IAAM6E,MAAM,GAAGhC,KAAK,CAACE,OAAO,CAAC8H,IAAI,CAAC,UAAAf,CAAC;MAAA,OAAIA,CAAC,CAACiB,OAAO;IAAA,EAAC;IACjD,IAAIlG,MAAM,EAAE;MACVyF,GAAG,CAACW,WAAW,GAAGpG,MAAM,CAACC,SAAS,GAAG,IAAI;MACzCwF,GAAG,CAACY,WAAW,GAAGrG,MAAM,CAACV,KAAK;MAC9BmG,GAAG,CAACa,WAAW,GAAG,OAAO;IAC3B;EACF;;EAEA;EACA,IAAI,OAAOtI,KAAK,CAACuI,YAAY,KAAK,QAAQ,IAAIvI,KAAK,CAACuI,YAAY,GAAG,CAAC,EAAE;IACpEd,GAAG,CAACc,YAAY,GAAGvI,KAAK,CAACuI,YAAY,GAAG,IAAI;EAC9C;;EAEA;EACA,IAAIvI,KAAK,CAACG,OAAO,IAAIH,KAAK,CAACG,OAAO,CAAChD,MAAM,GAAG,CAAC,EAAE;IAC7C,IAAMgF,MAAM,GAAGnC,KAAK,CAACG,OAAO,CAAC6H,IAAI,CAAC,UAAAQ,CAAC;MAAA,OAAIA,CAAC,CAACN,OAAO;IAAA,EAAC;IACjD,IAAI/F,MAAM,EAAE;MACVsF,GAAG,CAACgB,SAAS,MAAAxK,MAAA,CAAMkE,MAAM,CAACC,OAAO,SAAAnE,MAAA,CAAMkE,MAAM,CAACE,OAAO,SAAApE,MAAA,CAAMkE,MAAM,CAACG,UAAU,SAAArE,MAAA,CAAMkE,MAAM,CAACI,MAAM,IAAI,CAAC,SAAAtE,MAAA,CAAMkE,MAAM,CAACb,KAAK,CAAE;IAC1H;EACF;;EAEA;EACA,IAAIvB,KAAK,CAACP,IAAI,KAAK,MAAM,IAAIO,KAAK,CAACC,KAAK,EAAE;IACxC,IAAID,KAAK,CAACC,KAAK,CAAC0C,QAAQ,EAAE+E,GAAG,CAAC/E,QAAQ,GAAG3C,KAAK,CAACC,KAAK,CAAC0C,QAAQ,GAAG,IAAI;IACpE,IAAI3C,KAAK,CAACC,KAAK,CAAC0I,UAAU,EAAEjB,GAAG,CAACiB,UAAU,GAAG3I,KAAK,CAACC,KAAK,CAAC0I,UAAU;IACnE,IAAI3I,KAAK,CAACC,KAAK,CAAC2I,SAAS,EAAElB,GAAG,CAACnG,KAAK,GAAGvB,KAAK,CAACC,KAAK,CAAC2I,SAAS;IAC5D,IAAI5I,KAAK,CAACC,KAAK,CAAC4I,UAAU,EAAEnB,GAAG,CAACmB,UAAU,GAAG7I,KAAK,CAACC,KAAK,CAAC4I,UAAU;IACnE,IAAI7I,KAAK,CAACC,KAAK,CAAC2C,UAAU,EAAE8E,GAAG,CAAC9E,UAAU,GAAG5C,KAAK,CAACC,KAAK,CAAC2C,UAAU,GAAG,IAAI;IAC1E,IAAI5C,KAAK,CAACC,KAAK,CAAC4C,aAAa,EAAE6E,GAAG,CAAC7E,aAAa,GAAG7C,KAAK,CAACC,KAAK,CAAC4C,aAAa,GAAG,IAAI;IACnF,IAAI7C,KAAK,CAACC,KAAK,CAAC6C,SAAS,EAAE4E,GAAG,CAAC5E,SAAS,GAAG9C,KAAK,CAACC,KAAK,CAAC6C,SAAS;EAClE;;EAEA;EACA,IAAI9C,KAAK,CAACP,IAAI,KAAK,OAAO,IAAIO,KAAK,CAACP,IAAI,KAAK,QAAQ,EAAE;IACrDiI,GAAG,CAACjI,IAAI,GAAG,KAAK;EAClB,CAAC,MAAM;IACLiI,GAAG,CAACjI,IAAI,GAAG,KAAK;EAClB;EAEA,OAAOiI,GAAG;AACZ;AAEejB,8EAAe,E;;;;;;;;;;;;;;;;;;;;;;AC3F9B,SAASe,kBAAkBA,CAACnB,YAAY,EAAsC;EAAA,IAApCyC,MAAM,GAAA3L,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEiK,WAAW,GAAAjK,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAAA,IAAEgK,QAAQ,GAAAlK,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAE1E,IAAMiD,QAAQ,GAAG+F,YAAY,CAACzJ,MAAM;EACpC,IAAMmM,WAAW,GAAG1C,YAAY,CAAC1F,KAAK;;EAEtC;EACA,IAAMqI,SAAS,GAAG;IAAEC,OAAO,EAAE;EAAO,CAAC;;EAGrC;EACA,IAAMC,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAAC,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQxG,QAAQ,CAACc,GAAG,CAAC,UAAAkI,CAAC;IAAA,OAAIA,CAAC,CAAC3I,KAAK,CAACC,CAAC;EAAA,EAAC,EAAC;EAC7D,IAAM2I,UAAU,GAAGJ,IAAI,CAACC,GAAG,CAAAC,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQxG,QAAQ,CAACc,GAAG,CAAC,UAAAkI,CAAC;IAAA,OAAIA,CAAC,CAAC3I,KAAK,CAACE,CAAC;EAAA,EAAC,EAAC;EAC5D,IAAM2I,YAAY,GAAGnD,YAAY,CAAC1F,KAAK,CAACG,KAAK,GAAGqI,IAAI,CAACM,GAAG,CAAAJ,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQxG,QAAQ,CAACc,GAAG,CAAC,UAAAkI,CAAC;IAAA,OAAIA,CAAC,CAAC3I,KAAK,CAACC,CAAC,GAAG0I,CAAC,CAAC3I,KAAK,CAACG,KAAK;EAAA,EAAC,EAAC;EACzG,IAAM4I,aAAa,GAAGrD,YAAY,CAAC1F,KAAK,CAACI,MAAM,GAAGoI,IAAI,CAACM,GAAG,CAAAJ,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQxG,QAAQ,CAACc,GAAG,CAAC,UAAAkI,CAAC;IAAA,OAAIA,CAAC,CAAC3I,KAAK,CAACE,CAAC,GAAGyI,CAAC,CAAC3I,KAAK,CAACI,MAAM;EAAA,EAAC,EAAC;EAC5GiI,SAAS,CAACW,OAAO,MAAAzL,MAAA,CAAMqL,UAAU,SAAArL,MAAA,CAAMsL,YAAY,SAAAtL,MAAA,CAAMwL,aAAa,SAAAxL,MAAA,CAAMgL,WAAW,OAAI;;EAE3F;EACA,IAAI7B,QAAQ,KAAK,CAAC,EAAE;IAClB2B,SAAS,CAACY,aAAa,GAAG,KAAK;IAC/B9M,OAAO,CAACC,GAAG,CAACuD,QAAQ,CAAC;IAErB,IAAMmH,YAAY,GAAGX,+EAAA,CAAIxG,QAAQ,EAAE0G,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;MAAA,OAAKD,CAAC,CAACtG,KAAK,CAACC,CAAC,GAAGsG,CAAC,CAACvG,KAAK,CAACC,CAAC;IAAA,EAAC;IACxE,IAAIiJ,GAAG,GAAG,CAAC;IAEX,IAAIpC,YAAY,CAACrK,MAAM,GAAG,CAAC,EAAE;MAC3ByM,GAAG,GAAGpC,YAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACC,CAAC,IAAI6G,YAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACC,CAAC,GAAG6G,YAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACG,KAAK,CAAC;MACvF;MACA+I,GAAG,GAAGd,WAAW,CAACjI,KAAK,GAAG,CAAC,GAAI+I,GAAG,GAAGd,WAAW,CAACjI,KAAK,GAAI,GAAG,GAAG,CAAC;MACjEkI,SAAS,CAACa,GAAG,MAAA3L,MAAA,CAAM2L,GAAG,CAAChC,OAAO,CAAC,CAAC,CAAC,MAAG;IACtC,CAAC,MAAM;MACLmB,SAAS,CAACa,GAAG,GAAG,IAAI;IACtB;;IAEA;IACA,IAAMC,KAAK,GAAGrC,YAAY,CAAC,CAAC,CAAC;IAC7B,IAAMsC,IAAI,GAAGtC,YAAY,CAACA,YAAY,CAACrK,MAAM,GAAG,CAAC,CAAC;IAClD,IAAM4M,SAAS,GAAGF,KAAK,CAACnJ,KAAK,CAACC,CAAC,GAAGmI,WAAW,CAACnI,CAAC;IAC/C,IAAMqJ,UAAU,GAAIlB,WAAW,CAACnI,CAAC,GAAGmI,WAAW,CAACjI,KAAK,IAAKiJ,IAAI,CAACpJ,KAAK,CAACC,CAAC,GAAGmJ,IAAI,CAACpJ,KAAK,CAACG,KAAK,CAAC;IAC1F,IAAIkJ,SAAS,KAAK,CAAC,IAAIC,UAAU,KAAK,CAAC,EAAE;MACvCjB,SAAS,CAACkB,cAAc,GAAG,eAAe;IAC5C,CAAC,MAAM,IAAIF,SAAS,KAAK,CAAC,EAAE;MAC1BhB,SAAS,CAACkB,cAAc,GAAG,YAAY;IACzC,CAAC,MAAM,IAAID,UAAU,KAAK,CAAC,EAAE;MAC3BjB,SAAS,CAACkB,cAAc,GAAG,UAAU;IACvC,CAAC,MAAM;MACL;MACAlB,SAAS,CAACkB,cAAc,GAAG,QAAQ;IACrC;;IAEA;IACA,IAAMtD,KAAK,GAAGa,YAAY,CAACrG,GAAG,CAAC,UAAAkI,CAAC;MAAA,OAAIA,CAAC,CAAC3I,KAAK,CAACE,CAAC;IAAA,EAAC;IAC9C,IAAMsJ,IAAI,GAAGhB,IAAI,CAACC,GAAG,CAAAC,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQF,KAAK,EAAC;IAC/B,IAAMwD,IAAI,GAAGjB,IAAI,CAACM,GAAG,CAAAJ,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQF,KAAK,EAAC;IAC/B,IAAIuD,IAAI,KAAKC,IAAI,IAAID,IAAI,KAAKpB,WAAW,CAAClI,CAAC,GAAG0I,UAAU,EAAE;MACxDP,SAAS,CAACqB,UAAU,GAAG,YAAY;IACrC,CAAC,MAAM,IAAIF,IAAI,KAAKC,IAAI,IAAID,IAAI,KAAKpB,WAAW,CAAClI,CAAC,GAAGkI,WAAW,CAAChI,MAAM,GAAG0G,YAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACI,MAAM,GAAG2I,aAAa,EAAE;MACtHV,SAAS,CAACqB,UAAU,GAAG,UAAU;IACnC,CAAC,MAAM;MACL;MACArB,SAAS,CAACqB,UAAU,GAAG,QAAQ;IACjC;EACF;EACA;EAAA,KACK;IACHrB,SAAS,CAACY,aAAa,GAAG,QAAQ;IAClC,IAAMnC,aAAY,GAAGX,+EAAA,CAAIxG,QAAQ,EAAE0G,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;MAAA,OAAKD,CAAC,CAACtG,KAAK,CAACE,CAAC,GAAGqG,CAAC,CAACvG,KAAK,CAACE,CAAC;IAAA,EAAC;IACxE,IAAIgJ,IAAG,GAAG,CAAC;IACX,IAAIpC,aAAY,CAACrK,MAAM,GAAG,CAAC,EAAE;MAC3ByM,IAAG,GAAGpC,aAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACE,CAAC,IAAI4G,aAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACE,CAAC,GAAG4G,aAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACI,MAAM,CAAC;MACxF;MACA8I,IAAG,GAAGd,WAAW,CAAChI,MAAM,GAAG,CAAC,GAAI8I,IAAG,GAAGd,WAAW,CAAChI,MAAM,GAAI,GAAG,GAAG,CAAC;MACnEiI,SAAS,CAACa,GAAG,MAAA3L,MAAA,CAAM2L,IAAG,CAAChC,OAAO,CAAC,CAAC,CAAC,MAAG;IACtC,CAAC,MAAM;MACLmB,SAAS,CAACa,GAAG,GAAG,IAAI;IACtB;;IAEA;IACA,IAAMC,MAAK,GAAGrC,aAAY,CAAC,CAAC,CAAC;IAC7B,IAAMsC,KAAI,GAAGtC,aAAY,CAACA,aAAY,CAACrK,MAAM,GAAG,CAAC,CAAC;IAClD,IAAMkN,mBAAmB,GAAG7C,aAAY,CAAC8C,MAAM,CAAC,UAACC,GAAG,EAAElB,CAAC;MAAA,OAAKkB,GAAG,GAAGlB,CAAC,CAAC3I,KAAK,CAACI,MAAM;IAAA,GAAE,CAAC,CAAC,GAAG,CAAC0G,aAAY,CAACrK,MAAM,GAAG,CAAC,KAAK2L,WAAW,CAAChI,MAAM,GAAG8I,IAAG,GAAG,GAAG,CAAC;IACnJ,IAAMY,QAAQ,GAAGX,MAAK,CAACnJ,KAAK,CAACE,CAAC,GAAGkI,WAAW,CAAClI,CAAC;IAC9C,IAAM6J,WAAW,GAAI3B,WAAW,CAAClI,CAAC,GAAGkI,WAAW,CAAChI,MAAM,IAAKgJ,KAAI,CAACpJ,KAAK,CAACE,CAAC,GAAGkJ,KAAI,CAACpJ,KAAK,CAACI,MAAM,CAAC;IAC7F,IAAI0J,QAAQ,KAAK,CAAC,IAAIC,WAAW,KAAK,CAAC,EAAE;MACvC1B,SAAS,CAACkB,cAAc,GAAG,eAAe;IAC5C,CAAC,MAAM,IAAIO,QAAQ,KAAK,CAAC,EAAE;MACzBzB,SAAS,CAACkB,cAAc,GAAG,YAAY;IACzC,CAAC,MAAM,IAAIQ,WAAW,KAAK,CAAC,EAAE;MAC5B1B,SAAS,CAACkB,cAAc,GAAG,UAAU;IACvC,CAAC,MAAM;MACL;MACAlB,SAAS,CAACkB,cAAc,GAAG,QAAQ;IACrC;;IAEA;IACA,IAAMvD,KAAK,GAAGc,aAAY,CAACrG,GAAG,CAAC,UAAAkI,CAAC;MAAA,OAAIA,CAAC,CAAC3I,KAAK,CAACC,CAAC;IAAA,EAAC;IAC9C,IAAM+J,IAAI,GAAGxB,IAAI,CAACC,GAAG,CAAAC,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQH,KAAK,EAAC;IAC/B,IAAMiE,IAAI,GAAGzB,IAAI,CAACM,GAAG,CAAAJ,KAAA,CAARF,IAAI,EAAArC,+EAAA,CAAQH,KAAK,EAAC;IAC/B,IAAIgE,IAAI,KAAKC,IAAI,IAAID,IAAI,KAAK5B,WAAW,CAACnI,CAAC,GAAGsI,WAAW,EAAE;MACzDF,SAAS,CAACqB,UAAU,GAAG,YAAY;IACrC,CAAC,MAAM,IAAIM,IAAI,KAAKC,IAAI,IAAID,IAAI,KAAK5B,WAAW,CAACnI,CAAC,GAAGmI,WAAW,CAACjI,KAAK,GAAG2G,aAAY,CAAC,CAAC,CAAC,CAAC9G,KAAK,CAACG,KAAK,GAAG0I,YAAY,EAAE;MACnHR,SAAS,CAACqB,UAAU,GAAG,UAAU;IACnC,CAAC,MAAM;MACLrB,SAAS,CAACqB,UAAU,GAAG,QAAQ;IACjC;EACF;;EAEA;EACA,IAAMQ,qBAAqB,GAAGzD,WAAW,GAAGC,QAAQ;EACpD,IAAMyD,eAAe,GAAG,EAAE;EAC1B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,qBAAqB,EAAEE,CAAC,EAAE,EAAE;IAC9CD,eAAe,CAACE,IAAI,CAAC;MAAEjD,IAAI,EAAE;IAAW,CAAC,CAAC;EAC5C;EACAiB,SAAS,CAAC1I,QAAQ,GAAGwK,eAAe;;EAEpC;EACA,OAAA3G,aAAA,CAAAA,aAAA,KAAY6E,SAAS,GAAKF,MAAM;AAClC;;;;;;;;;;;;;ACnHA;AAAA;AAAA,SAASvB,kBAAkBA,CAAC3K,MAAM,EAAEiK,WAAW,EAAEM,WAAW,EAAE;EAC5D,IAAM2B,MAAM,GAAG;IAAEG,OAAO,EAAE;EAAO,CAAC;;EAElC;EACA,IAAMgC,cAAc,GAAGrO,MAAM,CAC1BsO,MAAM,CAAC,UAAAlL,KAAK;IAAA,OAAIA,KAAK,CAACW,KAAK,CAACE,CAAC,KAAKsG,WAAW,CAAC,CAAC,CAAC;EAAA,EAAC,CACjDH,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,CAACtG,KAAK,CAACC,CAAC,GAAGsG,CAAC,CAACvG,KAAK,CAACC,CAAC;EAAA,EAAC;EACxCkI,MAAM,CAACqC,mBAAmB,GAAGF,cAAc,CACxC7J,GAAG,CAAC,UAAApB,KAAK;IAAA,UAAA9B,MAAA,CAAO8B,KAAK,CAACW,KAAK,CAACG,KAAK;EAAA,CAAI,CAAC,CACtCpE,IAAI,CAAC,GAAG,CAAC;;EAEZ;EACA,IAAM0O,cAAc,GAAGxO,MAAM,CAC1BsO,MAAM,CAAC,UAAAlL,KAAK;IAAA,OAAIA,KAAK,CAACW,KAAK,CAACC,CAAC,KAAKiG,WAAW,CAAC,CAAC,CAAC;EAAA,EAAC,CACjDG,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,CAACtG,KAAK,CAACE,CAAC,GAAGqG,CAAC,CAACvG,KAAK,CAACE,CAAC;EAAA,EAAC;EACxCiI,MAAM,CAACuC,gBAAgB,GAAGD,cAAc,CACrChK,GAAG,CAAC,UAAApB,KAAK;IAAA,UAAA9B,MAAA,CAAO8B,KAAK,CAACW,KAAK,CAACI,MAAM;EAAA,CAAI,CAAC,CACvCrE,IAAI,CAAC,GAAG,CAAC;;EAEZ;EACA,IAAM4O,SAAS,GAAGL,cAAc,CAAC7N,MAAM,GAAG,CAAC,GACvC6N,cAAc,CAAC,CAAC,CAAC,CAACtK,KAAK,CAACC,CAAC,IAAIqK,cAAc,CAAC,CAAC,CAAC,CAACtK,KAAK,CAACC,CAAC,GAAGqK,cAAc,CAAC,CAAC,CAAC,CAACtK,KAAK,CAACG,KAAK,CAAC,GACvF,CAAC;EACL,IAAMyK,MAAM,GAAGH,cAAc,CAAChO,MAAM,GAAG,CAAC,GACpCgO,cAAc,CAAC,CAAC,CAAC,CAACzK,KAAK,CAACE,CAAC,IAAIuK,cAAc,CAAC,CAAC,CAAC,CAACzK,KAAK,CAACE,CAAC,GAAGuK,cAAc,CAAC,CAAC,CAAC,CAACzK,KAAK,CAACI,MAAM,CAAC,GACxF,CAAC;EAEL,IAAIwK,MAAM,KAAKD,SAAS,EAAE;IACxBxC,MAAM,CAACe,GAAG,MAAA3L,MAAA,CAAMqN,MAAM,OAAI;EAC5B,CAAC,MAAM;IACLzC,MAAM,CAACe,GAAG,MAAA3L,MAAA,CAAMqN,MAAM,SAAArN,MAAA,CAAMoN,SAAS,OAAI;EAC3C;EAEA,OAAOxC,MAAM;AACf;;;;;;;;;;;;ACnCA,mC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,iC","sources":["webpack://exports/webpack/bootstrap","webpack://exports/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://exports/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://exports/./node_modules/@babel/runtime/helpers/createClass.js","webpack://exports/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://exports/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://exports/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://exports/./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://exports/./node_modules/@babel/runtime/helpers/typeof.js","webpack://exports/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://exports/./node_modules/@skpm/fs/index.js","webpack://exports/./node_modules/@skpm/fs/utils.js","webpack://exports/./node_modules/@skpm/path/index.js","webpack://exports/./node_modules/@skpm/path/sketch-specifics.js","webpack://exports/./src/my-command.js","webpack://exports/./src/originalStyles/exportStyles.js","webpack://exports/./src/originalStyles/getOriginalStyles.js","webpack://exports/./src/originalStyles/index.js","webpack://exports/./src/styleTree/generateStyleTree.js","webpack://exports/./src/styleTree/getCurrentStyle.js","webpack://exports/./src/styleTree/getFlexLayoutStyle.js","webpack://exports/./src/styleTree/getGridLayoutStyle.js","webpack://exports/external \"buffer\"","webpack://exports/external \"sketch\"","webpack://exports/external \"util\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO: async. Should probably be done with NSFileHandle and some notifications\n// TODO: file descriptor. Needs to be done with NSFileHandle\nvar Buffer = require(\"buffer\").Buffer;\nvar utils = require(\"./utils\");\nvar parseStat = utils.parseStat;\nvar fsError = utils.fsError;\nvar fsErrorForPath = utils.fsErrorForPath;\nvar encodingFromOptions = utils.encodingFromOptions;\nvar NOT_IMPLEMENTED = utils.NOT_IMPLEMENTED;\n\nmodule.exports.constants = {\n  F_OK: 0,\n  R_OK: 4,\n  W_OK: 2,\n  X_OK: 1,\n};\n\nmodule.exports.access = NOT_IMPLEMENTED(\"access\");\n\nmodule.exports.accessSync = function (path, mode) {\n  mode = mode | 0;\n  var fileManager = NSFileManager.defaultManager();\n\n  switch (mode) {\n    case 0:\n      canAccess = module.exports.existsSync(path);\n      break;\n    case 1:\n      canAccess = Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 2:\n      canAccess = Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 3:\n      canAccess =\n        Boolean(Number(fileManager.isExecutableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 4:\n      canAccess = Boolean(Number(fileManager.isReadableFileAtPath(path)));\n      break;\n    case 5:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 6:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 7:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n  }\n\n  if (!canAccess) {\n    throw new Error(\"Can't access \" + String(path));\n  }\n};\n\nmodule.exports.appendFile = NOT_IMPLEMENTED(\"appendFile\");\n\nmodule.exports.appendFileSync = function (file, data, options) {\n  if (!module.exports.existsSync(file)) {\n    return module.exports.writeFileSync(file, data, options);\n  }\n\n  var handle = NSFileHandle.fileHandleForWritingAtPath(file);\n  handle.seekToEndOfFile();\n\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  handle.writeData(nsdata);\n};\n\nmodule.exports.chmod = NOT_IMPLEMENTED(\"chmod\");\n\nmodule.exports.chmodSync = function (path, mode) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFilePosixPermissions: mode,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.chown = NOT_IMPLEMENTED(\"chown\");\nmodule.exports.chownSync = NOT_IMPLEMENTED(\"chownSync\");\n\nmodule.exports.close = NOT_IMPLEMENTED(\"close\");\nmodule.exports.closeSync = NOT_IMPLEMENTED(\"closeSync\");\n\nmodule.exports.copyFile = NOT_IMPLEMENTED(\"copyFile\");\n\nmodule.exports.copyFileSync = function (path, dest, flags) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.copyItemAtPath_toPath_error(path, dest, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.createReadStream = NOT_IMPLEMENTED(\"createReadStream\");\nmodule.exports.createWriteStream = NOT_IMPLEMENTED(\"createWriteStream\");\n\nmodule.exports.exists = NOT_IMPLEMENTED(\"exists\");\n\nmodule.exports.existsSync = function (path) {\n  var fileManager = NSFileManager.defaultManager();\n  return Boolean(Number(fileManager.fileExistsAtPath(path)));\n};\n\nmodule.exports.fchmod = NOT_IMPLEMENTED(\"fchmod\");\nmodule.exports.fchmodSync = NOT_IMPLEMENTED(\"fchmodSync\");\nmodule.exports.fchown = NOT_IMPLEMENTED(\"fchown\");\nmodule.exports.fchownSync = NOT_IMPLEMENTED(\"fchownSync\");\nmodule.exports.fdatasync = NOT_IMPLEMENTED(\"fdatasync\");\nmodule.exports.fdatasyncSync = NOT_IMPLEMENTED(\"fdatasyncSync\");\nmodule.exports.fstat = NOT_IMPLEMENTED(\"fstat\");\nmodule.exports.fstatSync = NOT_IMPLEMENTED(\"fstatSync\");\nmodule.exports.fsync = NOT_IMPLEMENTED(\"fsync\");\nmodule.exports.fsyncSync = NOT_IMPLEMENTED(\"fsyncSync\");\nmodule.exports.ftruncate = NOT_IMPLEMENTED(\"ftruncate\");\nmodule.exports.ftruncateSync = NOT_IMPLEMENTED(\"ftruncateSync\");\nmodule.exports.futimes = NOT_IMPLEMENTED(\"futimes\");\nmodule.exports.futimesSync = NOT_IMPLEMENTED(\"futimesSync\");\n\nmodule.exports.lchmod = NOT_IMPLEMENTED(\"lchmod\");\nmodule.exports.lchmodSync = NOT_IMPLEMENTED(\"lchmodSync\");\nmodule.exports.lchown = NOT_IMPLEMENTED(\"lchown\");\nmodule.exports.lchownSync = NOT_IMPLEMENTED(\"lchownSync\");\n\nmodule.exports.link = NOT_IMPLEMENTED(\"link\");\n\nmodule.exports.linkSync = function (existingPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.linkItemAtPath_toPath_error(existingPath, newPath, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(existingPath, undefined, err.value());\n  }\n};\n\nmodule.exports.lstat = NOT_IMPLEMENTED(\"lstat\");\n\nmodule.exports.lstatSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.attributesOfItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return parseStat(result);\n};\n\nmodule.exports.mkdir = NOT_IMPLEMENTED(\"mkdir\");\n\nmodule.exports.mkdirSync = function (path, options) {\n  var mode = 0o777;\n  var recursive = false;\n  if (options && options.mode) {\n    mode = options.mode;\n  }\n  if (options && options.recursive) {\n    recursive = options.recursive;\n  }\n  if (typeof options === \"number\") {\n    mode = options;\n  }\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.createDirectoryAtPath_withIntermediateDirectories_attributes_error(\n    path,\n    recursive,\n    {\n      NSFilePosixPermissions: mode,\n    },\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.mkdtemp = NOT_IMPLEMENTED(\"mkdtemp\");\n\nmodule.exports.mkdtempSync = function (path) {\n  function makeid() {\n    var text = \"\";\n    var possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (var i = 0; i < 6; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  }\n  var tempPath = path + makeid();\n  module.exports.mkdirSync(tempPath);\n  return tempPath;\n};\n\nmodule.exports.open = NOT_IMPLEMENTED(\"open\");\nmodule.exports.openSync = NOT_IMPLEMENTED(\"openSync\");\n\nmodule.exports.read = NOT_IMPLEMENTED(\"read\");\n\nmodule.exports.readdir = NOT_IMPLEMENTED(\"readdir\");\n\nmodule.exports.readdirSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n  var fileManager = NSFileManager.defaultManager();\n  var paths = fileManager.subpathsAtPath(path);\n  var arr = [];\n  for (var i = 0; i < paths.length; i++) {\n    var pathName = paths[i];\n    arr.push(encoding === \"buffer\" ? Buffer.from(pathName) : String(pathName));\n  }\n  return arr;\n};\n\nmodule.exports.readFile = NOT_IMPLEMENTED(\"readFile\");\n\nmodule.exports.readFileSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"buffer\");\n  var fileManager = NSFileManager.defaultManager();\n  var data = fileManager.contentsAtPath(path);\n  if (!data) {\n    throw fsErrorForPath(path, false);\n  }\n\n  var buffer = Buffer.from(data);\n\n  if (encoding === \"buffer\") {\n    return buffer;\n  } else if (encoding === \"NSData\") {\n    return buffer.toNSData();\n  } else {\n    return buffer.toString(encoding);\n  }\n};\n\nmodule.exports.readlink = NOT_IMPLEMENTED(\"readlink\");\n\nmodule.exports.readlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.destinationOfSymbolicLinkAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return String(result);\n};\n\nmodule.exports.readSync = NOT_IMPLEMENTED(\"readSync\");\n\nmodule.exports.realpath = NOT_IMPLEMENTED(\"realpath\");\nmodule.exports.realpath.native = NOT_IMPLEMENTED(\"realpath.native\");\n\nmodule.exports.realpathSync = function (path) {\n  return String(\n    NSString.stringWithString(path).stringByResolvingSymlinksInPath()\n  );\n};\n\nmodule.exports.realpathSync.native = NOT_IMPLEMENTED(\"realpathSync.native\");\n\nmodule.exports.rename = NOT_IMPLEMENTED(\"rename\");\n\nmodule.exports.renameSync = function (oldPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.moveItemAtPath_toPath_error(oldPath, newPath, err);\n\n  var error = err.value();\n\n  if (error !== null) {\n    // if there is already a file, we need to overwrite it\n    if (\n      String(error.domain()) === \"NSCocoaErrorDomain\" &&\n      Number(error.code()) === 516\n    ) {\n      var err2 = MOPointer.alloc().init();\n      fileManager.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(\n        NSURL.fileURLWithPath(newPath),\n        NSURL.fileURLWithPath(oldPath),\n        null,\n        NSFileManagerItemReplacementUsingNewMetadataOnly,\n        null,\n        err2\n      );\n      if (err2.value() !== null) {\n        throw fsErrorForPath(oldPath, undefined, err2.value());\n      }\n    } else {\n      throw fsErrorForPath(oldPath, undefined, error);\n    }\n  }\n};\n\nmodule.exports.rmdir = NOT_IMPLEMENTED(\"rmdir\");\n\nmodule.exports.rmdirSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (!isDirectory) {\n    throw fsError(\"ENOTDIR\", {\n      path: path,\n      syscall: \"rmdir\",\n    });\n  }\n  fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, true, err.value(), \"rmdir\");\n  }\n};\n\nmodule.exports.stat = NOT_IMPLEMENTED(\"stat\");\n\n// the only difference with lstat is that we resolve symlinks\n//\n// > lstat() is identical to stat(), except that if pathname is a symbolic\n// > link, then it returns information about the link itself, not the file\n// > that it refers to.\n// http://man7.org/linux/man-pages/man2/lstat.2.html\nmodule.exports.statSync = function (path) {\n  return module.exports.lstatSync(module.exports.realpathSync(path));\n};\n\nmodule.exports.symlink = NOT_IMPLEMENTED(\"symlink\");\n\nmodule.exports.symlinkSync = function (target, path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.createSymbolicLinkAtPath_withDestinationPath_error(\n    path,\n    target,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.truncate = NOT_IMPLEMENTED(\"truncate\");\n\nmodule.exports.truncateSync = function (path, len) {\n  var hFile = NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);\n  hFile.truncateFileAtOffset(len || 0);\n  hFile.closeFile();\n};\n\nmodule.exports.unlink = NOT_IMPLEMENTED(\"unlink\");\n\nmodule.exports.unlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (isDirectory) {\n    throw fsError(\"EPERM\", {\n      path: path,\n      syscall: \"unlink\",\n    });\n  }\n  var result = fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.unwatchFile = NOT_IMPLEMENTED(\"unwatchFile\");\n\nmodule.exports.utimes = NOT_IMPLEMENTED(\"utimes\");\n\nmodule.exports.utimesSync = function (path, aTime, mTime) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFileModificationDate: aTime,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.watch = NOT_IMPLEMENTED(\"watch\");\nmodule.exports.watchFile = NOT_IMPLEMENTED(\"watchFile\");\n\nmodule.exports.write = NOT_IMPLEMENTED(\"write\");\n\nmodule.exports.writeFile = NOT_IMPLEMENTED(\"writeFile\");\n\nmodule.exports.writeFileSync = function (path, data, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  nsdata.writeToFile_atomically(path, true);\n};\n\nmodule.exports.writeSync = NOT_IMPLEMENTED(\"writeSync\");\n","module.exports.parseStat = function parseStat(result) {\n  return {\n    dev: String(result.NSFileDeviceIdentifier),\n    // ino: 48064969, The file system specific \"Inode\" number for the file.\n    mode: result.NSFileType | result.NSFilePosixPermissions,\n    nlink: Number(result.NSFileReferenceCount),\n    uid: String(result.NSFileOwnerAccountID),\n    gid: String(result.NSFileGroupOwnerAccountID),\n    // rdev: 0, A numeric device identifier if the file is considered \"special\".\n    size: Number(result.NSFileSize),\n    // blksize: 4096, The file system block size for i/o operations.\n    // blocks: 8, The number of blocks allocated for this file.\n    atimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    mtimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    ctimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    birthtimeMs:\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000,\n    atime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ), // the 0.5 comes from the node source. Not sure why it's added but in doubt...\n    mtime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    ctime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    birthtime: new Date(\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    isBlockDevice: function () {\n      return result.NSFileType === NSFileTypeBlockSpecial;\n    },\n    isCharacterDevice: function () {\n      return result.NSFileType === NSFileTypeCharacterSpecial;\n    },\n    isDirectory: function () {\n      return result.NSFileType === NSFileTypeDirectory;\n    },\n    isFIFO: function () {\n      return false;\n    },\n    isFile: function () {\n      return result.NSFileType === NSFileTypeRegular;\n    },\n    isSocket: function () {\n      return result.NSFileType === NSFileTypeSocket;\n    },\n    isSymbolicLink: function () {\n      return result.NSFileType === NSFileTypeSymbolicLink;\n    },\n  };\n};\n\nvar ERRORS = {\n  EPERM: {\n    message: \"operation not permitted\",\n    errno: -1,\n  },\n  ENOENT: {\n    message: \"no such file or directory\",\n    errno: -2,\n  },\n  EACCES: {\n    message: \"permission denied\",\n    errno: -13,\n  },\n  ENOTDIR: {\n    message: \"not a directory\",\n    errno: -20,\n  },\n  EISDIR: {\n    message: \"illegal operation on a directory\",\n    errno: -21,\n  },\n};\n\nfunction fsError(code, options) {\n  var error = new Error(\n    code +\n      \": \" +\n      ERRORS[code].message +\n      \", \" +\n      (options.syscall || \"\") +\n      (options.path ? \" '\" + options.path + \"'\" : \"\")\n  );\n\n  Object.keys(options).forEach(function (k) {\n    error[k] = options[k];\n  });\n\n  error.code = code;\n  error.errno = ERRORS[code].errno;\n\n  return error;\n}\n\nmodule.exports.fsError = fsError;\n\nmodule.exports.fsErrorForPath = function fsErrorForPath(\n  path,\n  shouldBeDir,\n  err,\n  syscall\n) {\n  var fileManager = NSFileManager.defaultManager();\n  var doesExist = fileManager.fileExistsAtPath(path);\n  if (!doesExist) {\n    return fsError(\"ENOENT\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  var isReadable = fileManager.isReadableFileAtPath(path);\n  if (!isReadable) {\n    return fsError(\"EACCES\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  if (typeof shouldBeDir !== \"undefined\") {\n    var isDirectory = require(\"./index\").lstatSync(path).isDirectory();\n    if (isDirectory && !shouldBeDir) {\n      return fsError(\"EISDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    } else if (!isDirectory && shouldBeDir) {\n      return fsError(\"ENOTDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    }\n  }\n  return new Error(err || \"Unknown error while manipulating \" + path);\n};\n\nmodule.exports.encodingFromOptions = function encodingFromOptions(\n  options,\n  defaultValue\n) {\n  return options && options.encoding\n    ? String(options.encoding)\n    : options\n    ? String(options)\n    : defaultValue;\n};\n\nmodule.exports.NOT_IMPLEMENTED = function NOT_IMPLEMENTED(name) {\n  return function () {\n    throw new Error(\n      \"fs.\" +\n        name +\n        \" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs\"\n    );\n  };\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar sketchSpecifics = require('./sketch-specifics')\n\n// we only expose the posix implementation since Sketch only runs on macOS\n\nvar CHAR_FORWARD_SLASH = 47\nvar CHAR_DOT = 46\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeString(path, allowAboveRoot) {\n  var res = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var code\n  for (var i = 0; i <= path.length; i += 1) {\n    if (i < path.length) code = path.charCodeAt(i)\n    else if (code === CHAR_FORWARD_SLASH) break\n    else code = CHAR_FORWARD_SLASH\n    if (code === CHAR_FORWARD_SLASH) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (\n          res.length < 2 ||\n          lastSegmentLength !== 2 ||\n          res.charCodeAt(res.length - 1) !== CHAR_DOT ||\n          res.charCodeAt(res.length - 2) !== CHAR_DOT\n        ) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/')\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = ''\n                lastSegmentLength = 0\n              } else {\n                res = res.slice(0, lastSlashIndex)\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/')\n              }\n              lastSlash = i\n              dots = 0\n              continue\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = ''\n            lastSegmentLength = 0\n            lastSlash = i\n            dots = 0\n            continue\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0) res += '/..'\n          else res = '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (res.length > 0) res += '/' + path.slice(lastSlash + 1, i)\n        else res = path.slice(lastSlash + 1, i)\n        lastSegmentLength = i - lastSlash - 1\n      }\n      lastSlash = i\n      dots = 0\n    } else if (code === CHAR_DOT && dots !== -1) {\n      ++dots\n    } else {\n      dots = -1\n    }\n  }\n  return res\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root\n  var base =\n    pathObject.base || (pathObject.name || '') + (pathObject.ext || '')\n  if (!dir) {\n    return base\n  }\n  if (dir === pathObject.root) {\n    return dir + base\n  }\n  return dir + sep + base\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = ''\n    var resolvedAbsolute = false\n    var cwd\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i -= 1) {\n      var path\n      if (i >= 0) {\n        path = arguments[i]\n      } else {\n        if (cwd === undefined) {\n          cwd = posix.dirname(sketchSpecifics.cwd())\n        }\n        path = cwd\n      }\n\n      path = sketchSpecifics.getString(path, 'path')\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue\n      }\n\n      resolvedPath = path + '/' + resolvedPath\n      resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute)\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0) return '/' + resolvedPath\n      else return '/'\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath\n    } else {\n      return '.'\n    }\n  },\n\n  normalize: function normalize(path) {\n    path = sketchSpecifics.getString(path, 'path')\n\n    if (path.length === 0) return '.'\n\n    var isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH\n    var trailingSeparator =\n      path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH\n\n    // Normalize the path\n    path = normalizeString(path, !isAbsolute)\n\n    if (path.length === 0 && !isAbsolute) path = '.'\n    if (path.length > 0 && trailingSeparator) path += '/'\n\n    if (isAbsolute) return '/' + path\n    return path\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    path = sketchSpecifics.getString(path, 'path')\n    return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH\n  },\n\n  join: function join() {\n    if (arguments.length === 0) return '.'\n    var joined\n    for (var i = 0; i < arguments.length; i += 1) {\n      var arg = arguments[i]\n      arg = sketchSpecifics.getString(arg, 'path')\n      if (arg.length > 0) {\n        if (joined === undefined) joined = arg\n        else joined += '/' + arg\n      }\n    }\n    if (joined === undefined) return '.'\n    return posix.normalize(joined)\n  },\n\n  relative: function relative(from, to) {\n    from = sketchSpecifics.getString(from, 'from path')\n    to = sketchSpecifics.getString(to, 'to path')\n\n    if (from === to) return ''\n\n    from = posix.resolve(from)\n    to = posix.resolve(to)\n\n    if (from === to) return ''\n\n    // Trim any leading backslashes\n    var fromStart = 1\n    for (; fromStart < from.length; fromStart += 1) {\n      if (from.charCodeAt(fromStart) !== CHAR_FORWARD_SLASH) break\n    }\n    var fromEnd = from.length\n    var fromLen = fromEnd - fromStart\n\n    // Trim any leading backslashes\n    var toStart = 1\n    for (; toStart < to.length; toStart += 1) {\n      if (to.charCodeAt(toStart) !== CHAR_FORWARD_SLASH) break\n    }\n    var toEnd = to.length\n    var toLen = toEnd - toStart\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen\n    var lastCommonSep = -1\n    var i = 0\n    for (; i <= length; i += 1) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1)\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i)\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0\n          }\n        }\n        break\n      }\n      var fromCode = from.charCodeAt(fromStart + i)\n      var toCode = to.charCodeAt(toStart + i)\n      if (fromCode !== toCode) break\n      else if (fromCode === CHAR_FORWARD_SLASH) lastCommonSep = i\n    }\n\n    var out = ''\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; i += 1) {\n      if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n        if (out.length === 0) out += '..'\n        else out += '/..'\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0) return out + to.slice(toStart + lastCommonSep)\n    else {\n      toStart += lastCommonSep\n      if (to.charCodeAt(toStart) === CHAR_FORWARD_SLASH) toStart += 1\n      return to.slice(toStart)\n    }\n  },\n\n  toNamespacedPath: function toNamespacedPath(path) {\n    // Non-op on posix systems\n    return path\n  },\n\n  dirname: function dirname(path) {\n    path = sketchSpecifics.getString(path, 'path')\n    if (path.length === 0) return '.'\n    var code = path.charCodeAt(0)\n    var hasRoot = code === CHAR_FORWARD_SLASH\n    var end = -1\n    var matchedSlash = true\n    for (var i = path.length - 1; i >= 1; i -= 1) {\n      code = path.charCodeAt(i)\n      if (code === CHAR_FORWARD_SLASH) {\n        if (!matchedSlash) {\n          end = i\n          break\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.'\n    if (hasRoot && end === 1) return '//'\n    return path.slice(0, end)\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined)\n      ext = sketchSpecifics.getString(ext, 'ext')\n    path = sketchSpecifics.getString(path, 'path')\n\n    var start = 0\n    var end = -1\n    var matchedSlash = true\n    var i\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return ''\n      var extIdx = ext.length - 1\n      var firstNonSlashEnd = -1\n      for (i = path.length - 1; i >= 0; i -= 1) {\n        var code = path.charCodeAt(i)\n        if (code === CHAR_FORWARD_SLASH) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1\n            break\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false\n            firstNonSlashEnd = i + 1\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1\n              end = firstNonSlashEnd\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd\n      else if (end === -1) end = path.length\n      return path.slice(start, end)\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1\n            break\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false\n          end = i + 1\n        }\n      }\n\n      if (end === -1) return ''\n      return path.slice(start, end)\n    }\n  },\n\n  extname: function extname(path) {\n    path = sketchSpecifics.getString(path, 'path')\n    var startDot = -1\n    var startPart = 0\n    var end = -1\n    var matchedSlash = true\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i)\n      if (code === CHAR_FORWARD_SLASH) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1\n          break\n        }\n        continue\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false\n        end = i + 1\n      }\n      if (code === CHAR_DOT) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i\n        else if (preDotState !== 1) preDotState = 1\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1\n      }\n    }\n\n    if (\n      startDot === -1 ||\n      end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n    ) {\n      return ''\n    }\n    return path.slice(startDot, end)\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new Error('pathObject should be an Object')\n    }\n    return _format('/', pathObject)\n  },\n\n  parse: function parse(path) {\n    path = sketchSpecifics.getString(path, 'path')\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' }\n    if (path.length === 0) return ret\n    var code = path.charCodeAt(0)\n    var isAbsolute = code === CHAR_FORWARD_SLASH\n    var start\n    if (isAbsolute) {\n      ret.root = '/'\n      start = 1\n    } else {\n      start = 0\n    }\n    var startDot = -1\n    var startPart = 0\n    var end = -1\n    var matchedSlash = true\n    var i = path.length - 1\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i)\n      if (code === CHAR_FORWARD_SLASH) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1\n          break\n        }\n        continue\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false\n        end = i + 1\n      }\n      if (code === CHAR_DOT) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i\n        else if (preDotState !== 1) preDotState = 1\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1\n      }\n    }\n\n    if (\n      startDot === -1 ||\n      end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n    ) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute)\n          ret.base = ret.name = path.slice(1, end)\n        else ret.base = ret.name = path.slice(startPart, end)\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot)\n        ret.base = path.slice(1, end)\n      } else {\n        ret.name = path.slice(startPart, startDot)\n        ret.base = path.slice(startPart, end)\n      }\n      ret.ext = path.slice(startDot, end)\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1)\n    else if (isAbsolute) ret.dir = '/'\n\n    return ret\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null,\n\n  resourcePath: sketchSpecifics.resourcePath,\n}\n\nmodule.exports = posix\nmodule.exports.posix = posix\n","var util = require('util')\n\nmodule.exports.getString = function getString(path, argumentName) {\n  if (!util.isString(path)) {\n    // let's make a special case for NSURL\n    if (util.getNativeClass(path) === 'NSURL') {\n      return String(path.path().copy())\n    }\n    throw new Error(argumentName + ' should be a string. Got ' + typeof path + ' instead.')\n  }\n  return String(path)\n}\n\nmodule.exports.cwd = function cwd() {\n  if (typeof __command !== 'undefined' && __command.script() && __command.script().URL()) {\n    return String(__command.script().URL().path().copy())\n  }\n  return String(MSPluginManager.defaultPluginURL().path().copy())\n}\n\nmodule.exports.resourcePath = function resourcePath(resourceName) {\n  if (typeof __command === 'undefined' || !__command.pluginBundle()) {\n    return undefined\n  }\n  var resource = __command.pluginBundle().urlForResourceNamed(resourceName)\n  if (!resource) {\n    return undefined\n  }\n  return String(resource.path())\n}\n","import sketch from 'sketch'\n// documentation: https://developer.sketchapp.com/reference/api/\nimport { generateStyleTree } from './styleTree/generateStyleTree'\nimport fs from '@skpm/fs'\nimport path from '@skpm/path'\nimport { processOriginalStyles } from './originalStyles'\n\nexport default function () {\n  /* const document = sketch.getSelectedDocument()\n  const page = document.pages[0];\n  const login = page.layers[0]\n\n  console.log(login);\n  \n  \n  \n  const styleTree = generateStyleTree(login)\n\n  // \n  const filePath = path.join(process.cwd(), 'styleTree.json')\n  fs.writeFileSync(filePath, JSON.stringify(styleTree, null, 2), 'utf8') \n  sketch.UI.message(' styleTree.json')\n  */\n\n  //  originalStyles \n  const document = sketch.getSelectedDocument();\n  const selection = document.selectedLayers;\n  const filePath = path.join('/Users/rentianxiang/Desktop/life/project/LowCode/code', 'styleTree.json')\n  sketch.export (selection.layers, {\n    format: 'json',\n    path: filePath\n  })\n  console.log('filePath', filePath);\n  \n  // processOriginalStyles(sketch, fs, path)\n  console.log('==============');\n  \n\n}","import { getSelectedLayerOriginalStyles } from './getOriginalStyles';\n\n/**\n * JSON\n * @param {Object} context - Sketch \n * @param {Object} options - \n * @returns {Object} \n */\nconst exportOriginalStyles = (context, options = {}) => {\n  try {\n    // \n    const stylesData = getSelectedLayerOriginalStyles(context);\n    \n    if (stylesData.error) {\n      return {\n        success: false,\n        error: stylesData.error,\n        timestamp: new Date().toISOString()\n      };\n    }\n\n    // \n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n    const layerName = stylesData.container ? \n      stylesData.container.name.replace(/[^a-zA-Z0-9]/g, '_') : \n      'unknown_layer';\n    const fileName = `original_styles_${layerName}_${timestamp}.json`;\n\n    // \n    const exportData = {\n      metadata: {\n        exportType: 'original_styles',\n        sketchVersion: context.api.version,\n        exportTime: new Date().toISOString(),\n        fileName: fileName,\n        options: options\n      },\n      styles: stylesData\n    };\n\n    // JSON\n    const jsonString = JSON.stringify(exportData, null, 2);\n\n    // \n    const fileContent = jsonString;\n\n    // \n    return {\n      success: true,\n      fileName: fileName,\n      fileContent: fileContent,\n      dataSize: fileContent.length,\n      layerCount: stylesData.metadata ? stylesData.metadata.totalLayers : 1,\n      timestamp: new Date().toISOString()\n    };\n\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message,\n      timestamp: new Date().toISOString()\n    };\n  }\n};\n\n/**\n * \n * @param {Object} context - Sketch \n * @returns {Object} \n */\nconst exportStylesToClipboard = (context) => {\n  try {\n    const stylesData = getSelectedLayerOriginalStyles(context);\n    \n    if (stylesData.error) {\n      return {\n        success: false,\n        error: stylesData.error\n      };\n    }\n\n    // JSON\n    const jsonString = JSON.stringify(stylesData, null, 2);\n    \n    // Sketch API\n    if (context.api && context.api.copyToClipboard) {\n      context.api.copyToClipboard(jsonString);\n    }\n\n    return {\n      success: true,\n      message: '',\n      dataSize: jsonString.length\n    };\n\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\n/**\n * \n * @param {Object} context - Sketch \n * @returns {Object} \n */\nconst getStylesStatistics = (context) => {\n  try {\n    const stylesData = getSelectedLayerOriginalStyles(context);\n    \n    if (stylesData.error) {\n      return {\n        success: false,\n        error: stylesData.error\n      };\n    }\n\n    const stats = {\n      success: true,\n      containerName: stylesData.container ? stylesData.container.name : 'N/A',\n      containerType: stylesData.container ? stylesData.container.type : 'N/A',\n      totalLayers: stylesData.metadata ? stylesData.metadata.totalLayers : 1,\n      layerTypes: stylesData.metadata ? stylesData.metadata.layerTypes : {},\n      hasFills: false,\n      hasBorders: false,\n      hasShadows: false,\n      hasTextStyles: false,\n      timestamp: new Date().toISOString()\n    };\n\n    // \n    const analyzeLayerStyles = (layer) => {\n      if (layer.style) {\n        if (layer.style.fills && layer.style.fills.length > 0) stats.hasFills = true;\n        if (layer.style.borders && layer.style.borders.length > 0) stats.hasBorders = true;\n        if (layer.style.shadows && layer.style.shadows.length > 0) stats.hasShadows = true;\n        if (layer.style.textStyle) stats.hasTextStyles = true;\n      }\n    };\n\n    // \n    if (stylesData.container) {\n      analyzeLayerStyles(stylesData.container);\n    }\n\n    // \n    if (stylesData.children) {\n      stylesData.children.forEach(child => {\n        analyzeLayerStyles(child);\n      });\n    }\n\n    return stats;\n\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\nexport { \n  exportOriginalStyles, \n  exportStylesToClipboard, \n  getStylesStatistics \n}; ","/**\n * \n * @param {Object} layer - Sketch \n * @returns {Object} \n */\nconst getLayerOriginalStyles = (layer) => {\n  if (!layer) {\n    return null;\n  }\n\n  const styles = {\n    // \n    id: layer.id,\n    name: layer.name,\n    type: layer.type,\n    \n    // \n    frame: layer.frame ? {\n      x: layer.frame.x,\n      y: layer.frame.y,\n      width: layer.frame.width,\n      height: layer.frame.height\n    } : null,\n    \n    // \n    transform: layer.transform ? {\n      rotation: layer.transform.rotation,\n      flippedHorizontally: layer.transform.flippedHorizontally,\n      flippedVertically: layer.transform.flippedVertically\n    } : null,\n    \n    // \n    style: {}\n  };\n\n  // \n  if (layer.style && layer.style.fills) {\n    styles.style.fills = layer.style.fills.map(fill => ({\n      fillType: fill.fillType,\n      color: fill.color ? {\n        red: fill.color.red,\n        green: fill.color.green,\n        blue: fill.color.blue,\n        alpha: fill.color.alpha\n      } : null,\n      gradient: fill.gradient,\n      pattern: fill.pattern,\n      noiseIndex: fill.noiseIndex,\n      noiseIntensity: fill.noiseIntensity,\n      isEnabled: fill.isEnabled\n    }));\n  }\n\n  // \n  if (layer.style && layer.style.borders) {\n    styles.style.borders = layer.style.borders.map(border => ({\n      fillType: border.fillType,\n      color: border.color ? {\n        red: border.color.red,\n        green: border.color.green,\n        blue: border.color.blue,\n        alpha: border.color.alpha\n      } : null,\n      thickness: border.thickness,\n      position: border.position,\n      isEnabled: border.isEnabled\n    }));\n  }\n\n  // \n  if (layer.style && layer.style.shadows) {\n    styles.style.shadows = layer.style.shadows.map(shadow => ({\n      color: shadow.color ? {\n        red: shadow.color.red,\n        green: shadow.color.green,\n        blue: shadow.color.blue,\n        alpha: shadow.color.alpha\n      } : null,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spread: shadow.spread,\n      isEnabled: shadow.isEnabled\n    }));\n  }\n\n  // \n  if (layer.style && layer.style.innerShadows) {\n    styles.style.innerShadows = layer.style.innerShadows.map(shadow => ({\n      color: shadow.color ? {\n        red: shadow.color.red,\n        green: shadow.color.green,\n        blue: shadow.color.blue,\n        alpha: shadow.color.alpha\n      } : null,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spread: shadow.spread,\n      isEnabled: shadow.isEnabled\n    }));\n  }\n\n  // \n  if (layer.type === 'Text' && layer.style && layer.style.textStyle) {\n    styles.style.textStyle = {\n      fontName: layer.style.textStyle.fontName,\n      fontSize: layer.style.textStyle.fontSize,\n      lineHeight: layer.style.textStyle.lineHeight,\n      letterSpacing: layer.style.textStyle.letterSpacing,\n      textAlign: layer.style.textStyle.textAlign,\n      color: layer.style.textStyle.color ? {\n        red: layer.style.textStyle.color.red,\n        green: layer.style.textStyle.color.green,\n        blue: layer.style.textStyle.color.blue,\n        alpha: layer.style.textStyle.color.alpha\n      } : null\n    };\n  }\n\n  // \n  if (layer.style && layer.style.blur) {\n    styles.style.blur = {\n      type: layer.style.blur.type,\n      radius: layer.style.blur.radius,\n      center: layer.style.blur.center,\n      motionAngle: layer.style.blur.motionAngle,\n      isEnabled: layer.style.blur.isEnabled\n    };\n  }\n\n  // \n  if (layer.style && layer.style.blendMode) {\n    styles.style.blendMode = layer.style.blendMode;\n  }\n\n  // \n  if (layer.style && layer.style.opacity !== undefined) {\n    styles.style.opacity = layer.style.opacity;\n  }\n\n  return styles;\n};\n\n/**\n * \n * @param {Object} container - \n * @returns {Object} \n */\nconst getContainerOriginalStyles = (container) => {\n  if (!container) {\n    return null;\n  }\n\n  const result = {\n    container: getLayerOriginalStyles(container),\n    children: [],\n    metadata: {\n      totalLayers: 0,\n      layerTypes: {},\n      timestamp: new Date().toISOString()\n    }\n  };\n\n  // \n  if (container.layers && container.layers.length > 0) {\n    result.children = container.layers.map(child => {\n      const childStyles = getLayerOriginalStyles(child);\n      \n      // \n      if (child.type) {\n        result.metadata.layerTypes[child.type] = (result.metadata.layerTypes[child.type] || 0) + 1;\n      }\n      result.metadata.totalLayers++;\n      \n      return childStyles;\n    });\n  }\n\n  return result;\n};\n\n/**\n * JSON\n * @param {Object} context - Sketch \n * @returns {Object} JSON\n */\nconst getSelectedLayerOriginalStyles = (context) => {\n  try {\n    const selectedLayers = context.selection;\n    \n    if (!selectedLayers || selectedLayers.length === 0) {\n      return {\n        error: '',\n        timestamp: new Date().toISOString()\n      };\n    }\n\n    const clickedLayer = selectedLayers[0];\n    \n    // \n    if (clickedLayer.type === 'Group' || clickedLayer.type === 'Artboard') {\n      return getContainerOriginalStyles(clickedLayer);\n    }\n    \n    // \n    let parentLayer = clickedLayer.parent;\n    while (parentLayer) {\n      if (parentLayer.type === 'Group' || parentLayer.type === 'Artboard') {\n        return getContainerOriginalStyles(parentLayer);\n      }\n      parentLayer = parentLayer.parent;\n    }\n    \n    // \n    return {\n      singleLayer: getLayerOriginalStyles(clickedLayer),\n      note: '',\n      timestamp: new Date().toISOString()\n    };\n    \n  } catch (error) {\n    return {\n      error: error.message,\n      timestamp: new Date().toISOString()\n    };\n  }\n};\n\nexport { \n  getLayerOriginalStyles, \n  getContainerOriginalStyles, \n  getSelectedLayerOriginalStyles \n}; ","import { getSelectedLayerOriginalStyles } from './getOriginalStyles';\nimport { exportOriginalStyles, exportStylesToClipboard, getStylesStatistics } from './exportStyles';\n\n/**\n * \n * \n * @param {Object} sketchContext - Sketch \n * @param {Object} options - \n * @returns {Object} \n */\nconst getAndExportOriginalStyles = (sketchContext, options = {}) => {\n  try {\n    // 1. \n    console.log(1);\n\n    const validation = validateLayerSelection(sketchContext);\n    console.log(validation);\n\n    if (!validation.valid) {\n      return {\n        success: false,\n        error: validation.message,\n        type: 'validation_error'\n      };\n    }\n\n    // 2. \n    const stylesData = getSelectedLayerOriginalStyles(sketchContext);\n    console.log(stylesData);\n\n    if (stylesData.error) {\n      return {\n        success: false,\n        error: stylesData.error,\n        type: 'styles_error'\n      };\n    }\n\n    // 3. \n    const exportResult = exportOriginalStyles(sketchContext, {\n      includeMetadata: true,\n      format: 'pretty',\n      ...options\n    });\n\n    if (!exportResult.success) {\n      return {\n        success: false,\n        error: exportResult.error,\n        type: 'export_error',\n        stylesData: stylesData\n      };\n    }\n\n    // 4. \n    return {\n      success: true,\n      validation: validation,\n      stylesData: stylesData,\n      exportResult: exportResult,\n      statistics: {\n        layerCount: exportResult.layerCount,\n        dataSize: exportResult.dataSize,\n        fileName: exportResult.fileName,\n        containerName: stylesData.container ? stylesData.container.name : 'N/A',\n        containerType: stylesData.container ? stylesData.container.type : 'N/A'\n      }\n    };\n\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message,\n      type: 'unknown_error'\n    };\n  }\n};\n\n/**\n * \n * @param {Object} sketchContext - Sketch \n * @returns {Object} \n */\nconst validateLayerSelection = (sketchContext) => {\n  const selectedLayers = sketchContext.selection;\n  if (!selectedLayers || selectedLayers.length === 0) {\n    return {\n      valid: false,\n      message: ''\n    };\n  }\n\n  console.log('selectedLayers', selectedLayers);\n  console.log('selectedLayers.length', selectedLayers.length);\n\n  const layer = selectedLayers[0];\n  console.log('layer', layer);\n  const isContainer = layer.type === 'Group' || layer.type === 'Artboard';\n\n  if (isContainer) {\n    return {\n      valid: true,\n      message: `${layer.type}: ${layer.name}`,\n      layerType: layer.type,\n      layerName: layer.name\n    };\n  }\n\n  // \n  let parent = layer.parent;\n  while (parent) {\n    if (parent.type === 'Group' || parent.type === 'Artboard') {\n      return {\n        valid: true,\n        message: `${parent.type}: ${parent.name}`,\n        layerType: parent.type,\n        layerName: parent.name,\n        selectedLayer: layer.name\n      };\n    }\n    parent = parent.parent;\n  }\n\n  return {\n    valid: false,\n    message: ''\n  };\n};\n\n/**\n * \n * @param {Object} sketchContext - Sketch \n * @returns {Object} \n */\nconst quickGetOriginalStyles = (sketchContext) => {\n  const validation = validateLayerSelection(sketchContext);\n  if (!validation.valid) {\n    return {\n      success: false,\n      error: validation.message\n    };\n  }\n\n  const stylesData = getSelectedLayerOriginalStyles(sketchContext);\n  if (stylesData.error) {\n    return {\n      success: false,\n      error: stylesData.error\n    };\n  }\n\n  return {\n    success: true,\n    data: stylesData,\n    validation: validation\n  };\n};\n\n/**\n * \n * @param {Object} sketchContext - Sketch \n * @param {Object} options - \n * @returns {Object} \n */\nconst quickExportStyles = (sketchContext, options = {}) => {\n  return exportOriginalStyles(sketchContext, {\n    includeMetadata: true,\n    format: 'pretty',\n    ...options\n  });\n};\n\n/**\n * \n * @param {Object} sketchContext - Sketch \n * @returns {Object} \n */\nconst getStylesStats = (sketchContext) => {\n  return getStylesStatistics(sketchContext);\n};\n\n/**\n * \n * @param {Object} sketchContext - Sketch \n * @returns {Object} \n */\nconst exportStylesToClipboardFunc = (sketchContext) => {\n  return exportStylesToClipboard(sketchContext);\n};\n\n// \nclass OriginalStylesManager {\n  constructor(context) {\n    this.context = context;\n  }\n\n  getStyles() {\n    return getSelectedLayerOriginalStyles(this.context);\n  }\n\n  exportToFile(options = {}) {\n    return exportOriginalStyles(this.context, options);\n  }\n\n  exportToClipboard() {\n    return exportStylesToClipboardFunc(this.context);\n  }\n\n  getStatistics() {\n    return getStylesStatistics(this.context);\n  }\n\n  validateSelection() {\n    return validateLayerSelection(this.context);\n  }\n}\n\nconst createOriginalStylesManager = (context) => {\n  return new OriginalStylesManager(context);\n};\n\n/**\n * \n * Sketch\n * @param {Object} sketch - Sketch API\n * @param {Object} fs - \n * @param {Object} path - \n * @returns {Object} \n */\nconst processOriginalStyles = (sketch, fs, path) => {\n  try {\n    // 1. \n    const document = sketch.getSelectedDocument();\n    const selection = document.selectedLayers;\n\n    if (!selection || selection.length === 0) {\n      sketch.UI.message('');\n      return {\n        success: false,\n        error: ''\n      };\n    }\n    console.log('selection', selection.layers);\n    \n\n    // 2. \n    const sketchContext = { selection };\n\n\n    // 3. \n    const result = getAndExportOriginalStyles(sketchContext);\n\n    if (result.success) {\n      // 4. \n      const filePath = path.join(process.cwd(), result.exportResult.fileName);\n      fs.writeFileSync(filePath, result.exportResult.fileContent, 'utf8');\n\n      // 5. \n      sketch.UI.message(`: ${result.exportResult.fileName}`);\n\n      // 6. \n      console.log(':', {\n        : result.statistics.layerCount,\n        : result.statistics.dataSize + ' bytes',\n        : result.statistics.containerName,\n        : result.statistics.containerType\n      });\n\n      return {\n        success: true,\n        fileName: result.exportResult.fileName,\n        statistics: result.statistics\n      };\n    } else {\n      // 7. \n      sketch.UI.message(': ' + result.error);\n      return {\n        success: false,\n        error: result.error\n      };\n    }\n\n  } catch (error) {\n    const errorMessage = ': ' + error.message;\n    sketch.UI.message(errorMessage);\n    return {\n      success: false,\n      error: errorMessage\n    };\n  }\n};\n\nexport {\n  // \n  getAndExportOriginalStyles,    // \n  quickGetOriginalStyles,        // \n  quickExportStyles,             // \n  validateLayerSelection,        // \n  getStylesStats,                // \n  exportStylesToClipboardFunc,   // \n  processOriginalStyles,         // \n\n  // \n  OriginalStylesManager,\n  createOriginalStylesManager,\n  getSelectedLayerOriginalStyles,\n  exportOriginalStyles,\n  exportStylesToClipboard,\n  getStylesStatistics\n}; ","import getCurrentStyle from './getCurrentStyle'\nimport { getFlexLayoutStyle } from './getFlexLayoutStyle'\nimport { getGridLayoutStyle } from './getGridLayoutStyle'\n\nconst generateStyleTree = (currentLayer, parentLayoutType = 'block', parentSize = null) => {\n  // \n  const currentSize = currentLayer.frame\n    ? { width: currentLayer.frame.width, height: currentLayer.frame.height }\n    : parentSize;\n    \n    \n\n  //  layers\n  if (!currentLayer.layers) {\n    // mode flexMode  parentSize\n    const style = getCurrentStyle(\n      currentLayer,\n      {\n        flexMode: parentLayoutType === 'flex',\n        parentSize: parentLayoutType === 'flex' ? parentSize : null\n      }\n    );\n    return {\n      style,\n      children: []\n    }\n  }\n  \n  // \n  const { layers } = currentLayer;\n  \n  const xList = layers.map(layer => layer.frame.x);\n  const yList = layers.map(layer => layer.frame.y);\n  console.log('==');\n  console.log(currentLayer);\n  console.log('==');\n  \n  \n  const uniqueXList = [...new Set(xList)].sort((a, b) => a - b);\n  const uniqueYList = [...new Set(yList)].sort((a, b) => a - b);\n  const columnCount = uniqueXList.length;\n  const rowCount = uniqueYList.length;\n\n  let style, layoutType;\n  if (columnCount > 1 && rowCount > 1) {\n    style = getGridLayoutStyle(layers, uniqueXList, uniqueYList);\n    layoutType = 'grid';\n  } else {\n    style = getFlexLayoutStyle(currentLayer, getCurrentStyle(currentLayer, { flexMode: parentLayoutType === 'flex', parentSize: parentSize }), columnCount, rowCount);\n    layoutType = 'flex';\n  }\n\n  //  x  y \n  const sortedLayers = [...layers].sort((a, b) => {\n    if (a.frame.x !== b.frame.x) {\n      return a.frame.x - b.frame.x;\n    }\n    return a.frame.y - b.frame.y;\n  });\n  const children = sortedLayers.map(child => generateStyleTree(child, layoutType, currentSize));\n\n  return {\n    style,\n    children\n  }\n}\n\nexport { generateStyleTree };","function getCurrentStyle(layer, options = {}) {\n  if (!layer) return {};\n  const style = layer.style || {};\n  const css = {\n    name: layer.name\n  };\n  const flexMode = options.flexMode === true;\n  const parentSize = options.parentSize;\n\n  // 1. frame \n  if (typeof layer.name === 'string' && layer.name.startsWith('/')) {\n    //  100% flexMode\n    css.width = '100%';\n    css.height = '100%';\n  } else if (layer.frame) {\n    if (flexMode && parentSize && parentSize.width && parentSize.height) {\n      css.maxWidth = ((layer.frame.width / parentSize.width) * 100).toFixed(2) + '%';\n      css.maxHeight = ((layer.frame.height / parentSize.height) * 100).toFixed(2) + '%';\n      css.flex = '1 1 auto';\n      css.alignSelf = 'stretch';\n    } else if (flexMode) {\n      css.maxWidth = layer.frame.width + 'px';\n      css.maxHeight = layer.frame.height + 'px';\n      css.flex = '1 1 auto';\n      css.alignSelf = 'stretch';\n    } else {\n      css.width = layer.frame.width + 'px';\n      css.height = layer.frame.height + 'px';\n    }\n  }\n\n  // 2. \n  if (typeof layer.opacity === 'number') {\n    css.opacity = layer.opacity;\n  }\n  if (typeof layer.rotation === 'number' && layer.rotation !== 0) {\n    css.transform = `rotate(${layer.rotation}deg)`;\n  }\n\n  // 3.  enabled  fill\n  if (style.fills && style.fills.length > 0) {\n    const fill = style.fills.find(f => f.enabled && f.fillType === 'Color');\n    if (fill) {\n      css.backgroundColor = fill.color;\n    }\n  }\n\n  // 4.  enabled  border\n  if (style.borders && style.borders.length > 0) {\n    const border = style.borders.find(b => b.enabled);\n    if (border) {\n      css.borderWidth = border.thickness + 'px';\n      css.borderColor = border.color;\n      css.borderStyle = 'solid';\n    }\n  }\n\n  // 5. \n  if (typeof style.borderRadius === 'number' && style.borderRadius > 0) {\n    css.borderRadius = style.borderRadius + 'px';\n  }\n\n  // 6.  enabled  shadow\n  if (style.shadows && style.shadows.length > 0) {\n    const shadow = style.shadows.find(s => s.enabled);\n    if (shadow) {\n      css.boxShadow = `${shadow.offsetX}px ${shadow.offsetY}px ${shadow.blurRadius}px ${shadow.spread || 0}px ${shadow.color}`;\n    }\n  }\n\n  // 7. \n  if (layer.type === 'Text' && layer.style) {\n    if (layer.style.fontSize) css.fontSize = layer.style.fontSize + 'px';\n    if (layer.style.fontFamily) css.fontFamily = layer.style.fontFamily;\n    if (layer.style.textColor) css.color = layer.style.textColor;\n    if (layer.style.fontWeight) css.fontWeight = layer.style.fontWeight;\n    if (layer.style.lineHeight) css.lineHeight = layer.style.lineHeight + 'px';\n    if (layer.style.letterSpacing) css.letterSpacing = layer.style.letterSpacing + 'px';\n    if (layer.style.textAlign) css.textAlign = layer.style.textAlign;\n  }\n\n  // 8. \n  if (layer.type === 'Image' || layer.type === 'Bitmap') {\n    css.type = 'img';\n  } else {\n    css.type = 'ele';\n  }\n\n  return css;\n}\n\nexport default getCurrentStyle;\n","function getFlexLayoutStyle(currentLayer, layout = {}, columnCount, rowCount) {\n\n  const children = currentLayer.layers;\n  const parentFrame = currentLayer.frame;\n  \n  // \n  const genLayout = { display: 'flex' };\n  \n  \n  //  padding\n  const leftPadding = Math.min(...children.map(l => l.frame.x));\n  const topPadding = Math.min(...children.map(l => l.frame.y));\n  const rightPadding = currentLayer.frame.width - Math.max(...children.map(l => l.frame.x + l.frame.width));\n  const bottomPadding = currentLayer.frame.height - Math.max(...children.map(l => l.frame.y + l.frame.height));\n  genLayout.padding = `${topPadding}px ${rightPadding}px ${bottomPadding}px ${leftPadding}px`;\n  \n  //  Flex\n  if (rowCount === 1) {\n    genLayout.flexDirection = 'row';\n    console.log(children);\n    \n    const sortedLayers = [...children].sort((a, b) => a.frame.x - b.frame.x);\n    let gap = 0;\n    \n    if (sortedLayers.length > 1) {\n      gap = sortedLayers[1].frame.x - (sortedLayers[0].frame.x + sortedLayers[0].frame.width);\n      // \n      gap = parentFrame.width > 0 ? (gap / parentFrame.width) * 100 : 0;\n      genLayout.gap = `${gap.toFixed(2)}%`;\n    } else {\n      genLayout.gap = '0%';\n    }\n    \n    //  justify-content\n    const first = sortedLayers[0];\n    const last = sortedLayers[sortedLayers.length - 1];\n    const spaceLeft = first.frame.x - parentFrame.x;\n    const spaceRight = (parentFrame.x + parentFrame.width) - (last.frame.x + last.frame.width);\n    if (spaceLeft === 0 && spaceRight === 0) {\n      genLayout.justifyContent = 'space-between';\n    } else if (spaceLeft === 0) {\n      genLayout.justifyContent = 'flex-start';\n    } else if (spaceRight === 0) {\n      genLayout.justifyContent = 'flex-end';\n    } else {\n      //  padding \n      genLayout.justifyContent = 'center';\n    }\n\n    //  align-items\n    const yList = sortedLayers.map(l => l.frame.y);\n    const minY = Math.min(...yList);\n    const maxY = Math.max(...yList);\n    if (minY === maxY && minY === parentFrame.y + topPadding) {\n      genLayout.alignItems = 'flex-start';\n    } else if (minY === maxY && minY === parentFrame.y + parentFrame.height - sortedLayers[0].frame.height - bottomPadding) {\n      genLayout.alignItems = 'flex-end';\n    } else {\n      // \n      genLayout.alignItems = 'center';\n    }\n  }\n  //  Flex\n  else {\n    genLayout.flexDirection = 'column';\n    const sortedLayers = [...children].sort((a, b) => a.frame.y - b.frame.y);\n    let gap = 0;\n    if (sortedLayers.length > 1) {\n      gap = sortedLayers[1].frame.y - (sortedLayers[0].frame.y + sortedLayers[0].frame.height);\n      // \n      gap = parentFrame.height > 0 ? (gap / parentFrame.height) * 100 : 0;\n      genLayout.gap = `${gap.toFixed(2)}%`;\n    } else {\n      genLayout.gap = '0%';\n    }\n\n    //  justify-content\n    const first = sortedLayers[0];\n    const last = sortedLayers[sortedLayers.length - 1];\n    const totalChildrenHeight = sortedLayers.reduce((sum, l) => sum + l.frame.height, 0) + (sortedLayers.length - 1) * (parentFrame.height * gap / 100);\n    const spaceTop = first.frame.y - parentFrame.y;\n    const spaceBottom = (parentFrame.y + parentFrame.height) - (last.frame.y + last.frame.height);\n    if (spaceTop === 0 && spaceBottom === 0) {\n      genLayout.justifyContent = 'space-between';\n    } else if (spaceTop === 0) {\n      genLayout.justifyContent = 'flex-start';\n    } else if (spaceBottom === 0) {\n      genLayout.justifyContent = 'flex-end';\n    } else {\n      //  padding \n      genLayout.justifyContent = 'center';\n    }\n\n    //  align-items\n    const xList = sortedLayers.map(l => l.frame.x);\n    const minX = Math.min(...xList);\n    const maxX = Math.max(...xList);\n    if (minX === maxX && minX === parentFrame.x + leftPadding) {\n      genLayout.alignItems = 'flex-start';\n    } else if (minX === maxX && minX === parentFrame.x + parentFrame.width - sortedLayers[0].frame.width - rightPadding) {\n      genLayout.alignItems = 'flex-end';\n    } else {\n      genLayout.alignItems = 'center';\n    }\n  }\n\n  // children  columnCount * rowCount { flex: '1 1 auto' }\n  const expectedChildrenCount = columnCount * rowCount;\n  const childrenLayouts = [];\n  for (let i = 0; i < expectedChildrenCount; i++) {\n    childrenLayouts.push({ flex: '1 1 auto' });\n  }\n  genLayout.children = childrenLayouts;\n\n  //  layout layout \n  return { ...genLayout, ...layout };\n}\n\nexport {\n  getFlexLayoutStyle\n}","\nfunction getGridLayoutStyle(layers, uniqueXList, uniqueYList) {\n  const layout = { display: 'grid' };\n\n  //  grid-template-columns\n  const firstRowLayers = layers\n    .filter(layer => layer.frame.y === uniqueYList[0])\n    .sort((a, b) => a.frame.x - b.frame.x);\n  layout.gridTemplateColumns = firstRowLayers\n    .map(layer => `${layer.frame.width}px`)\n    .join(' ');\n\n  //  grid-template-rows\n  const firstColLayers = layers\n    .filter(layer => layer.frame.x === uniqueXList[0])\n    .sort((a, b) => a.frame.y - b.frame.y);\n  layout.gridTemplateRows = firstColLayers\n    .map(layer => `${layer.frame.height}px`)\n    .join(' ');\n\n  // \n  const columnGap = firstRowLayers.length > 1\n    ? firstRowLayers[1].frame.x - (firstRowLayers[0].frame.x + firstRowLayers[0].frame.width)\n    : 0;\n  const rowGap = firstColLayers.length > 1\n    ? firstColLayers[1].frame.y - (firstColLayers[0].frame.y + firstColLayers[0].frame.height)\n    : 0;\n\n  if (rowGap === columnGap) {\n    layout.gap = `${rowGap}px`;\n  } else {\n    layout.gap = `${rowGap}px ${columnGap}px`;\n  }\n\n  return layout;\n}\n\nexport {\n  getGridLayoutStyle\n}","module.exports = require(\"buffer\");","module.exports = require(\"sketch\");","module.exports = require(\"util\");"],"names":["document","sketch","getSelectedDocument","selection","selectedLayers","filePath","path","join","export","layers","format","console","log","exportOriginalStyles","context","options","arguments","length","undefined","stylesData","getSelectedLayerOriginalStyles","error","success","timestamp","Date","toISOString","replace","layerName","container","name","fileName","concat","exportData","metadata","exportType","sketchVersion","api","version","exportTime","styles","jsonString","JSON","stringify","fileContent","dataSize","layerCount","totalLayers","message","exportStylesToClipboard","copyToClipboard","getStylesStatistics","stats","containerName","containerType","type","layerTypes","hasFills","hasBorders","hasShadows","hasTextStyles","analyzeLayerStyles","layer","style","fills","borders","shadows","textStyle","children","forEach","child","getLayerOriginalStyles","id","frame","x","y","width","height","transform","rotation","flippedHorizontally","flippedVertically","map","fill","fillType","color","red","green","blue","alpha","gradient","pattern","noiseIndex","noiseIntensity","isEnabled","border","thickness","position","shadow","offsetX","offsetY","blurRadius","spread","innerShadows","fontName","fontSize","lineHeight","letterSpacing","textAlign","blur","radius","center","motionAngle","blendMode","opacity","getContainerOriginalStyles","result","childStyles","clickedLayer","parentLayer","parent","singleLayer","note","getAndExportOriginalStyles","sketchContext","validation","validateLayerSelection","valid","exportResult","_objectSpread","includeMetadata","statistics","isContainer","layerType","selectedLayer","quickGetOriginalStyles","data","quickExportStyles","getStylesStats","exportStylesToClipboardFunc","OriginalStylesManager","_classCallCheck","_createClass","key","value","getStyles","exportToFile","exportToClipboard","getStatistics","validateSelection","createOriginalStylesManager","processOriginalStyles","fs","UI","process","cwd","writeFileSync","","","","","errorMessage","generateStyleTree","currentLayer","parentLayoutType","parentSize","currentSize","getCurrentStyle","flexMode","xList","yList","uniqueXList","_toConsumableArray","Set","sort","a","b","uniqueYList","columnCount","rowCount","layoutType","getGridLayoutStyle","getFlexLayoutStyle","sortedLayers","css","startsWith","maxWidth","toFixed","maxHeight","flex","alignSelf","find","f","enabled","backgroundColor","borderWidth","borderColor","borderStyle","borderRadius","s","boxShadow","fontFamily","textColor","fontWeight","layout","parentFrame","genLayout","display","leftPadding","Math","min","apply","l","topPadding","rightPadding","max","bottomPadding","padding","flexDirection","gap","first","last","spaceLeft","spaceRight","justifyContent","minY","maxY","alignItems","totalChildrenHeight","reduce","sum","spaceTop","spaceBottom","minX","maxX","expectedChildrenCount","childrenLayouts","i","push","firstRowLayers","filter","gridTemplateColumns","firstColLayers","gridTemplateRows","columnGap","rowGap"],"sourceRoot":""}