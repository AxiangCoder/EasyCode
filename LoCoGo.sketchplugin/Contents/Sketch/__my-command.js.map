{"version":3,"file":"__my-command.js","mappings":";;;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA,iH;;;;;;;;;;;ACLA,uBAAuB,mBAAO,CAAC,wFAAuB;AACtD;AACA;AACA;AACA,kH;;;;;;;;;;;ACJA;AACA;AACA;AACA,+G;;;;;;;;;;;ACHA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,4G;;;;;;;;;;;ACZA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,+G;;;;;;;;;;;ACTA;AACA;AACA;AACA,gH;;;;;;;;;;;ACHA;AACA;AACA;AACA,kH;;;;;;;;;;;ACHA,wBAAwB,mBAAO,CAAC,0FAAwB;AACxD,sBAAsB,mBAAO,CAAC,sFAAsB;AACpD,iCAAiC,mBAAO,CAAC,4GAAiC;AAC1E,wBAAwB,mBAAO,CAAC,0FAAwB;AACxD;AACA;AACA;AACA,kH;;;;;;;;;;;ACPA,cAAc,mBAAO,CAAC,oEAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;ACXA,cAAc,mBAAO,CAAC,oEAAa;AACnC,kBAAkB,mBAAO,CAAC,8EAAkB;AAC5C;AACA;AACA;AACA;AACA,6G;;;;;;;;;;;ACNA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,uG;;;;;;;;;;;ACTA,uBAAuB,mBAAO,CAAC,wFAAuB;AACtD;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,2H;;;;;;;;;;;ACRA;AACA;AACA,aAAa,mBAAO,CAAC,sBAAQ;AAC7B,YAAY,mBAAO,CAAC,iDAAS;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACpbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,mBAAO,CAAC,iDAAS;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAO,CAAC,yEAAoB;;AAElD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,yBAAyB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,qBAAqB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU,aAAa;AACvB;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,WAAW;AACX;AACA,qCAAqC;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA,gDAAgD;AAChD;AACA,WAAW;AACX;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;AC3gBA,WAAW,mBAAO,CAAC,kBAAM;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","sources":["webpack://exports/webpack/bootstrap","webpack://exports/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://exports/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://exports/./node_modules/@babel/runtime/helpers/createClass.js","webpack://exports/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://exports/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://exports/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://exports/./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://exports/./node_modules/@babel/runtime/helpers/typeof.js","webpack://exports/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://exports/./node_modules/@skpm/fs/index.js","webpack://exports/./node_modules/@skpm/fs/utils.js","webpack://exports/./node_modules/@skpm/path/index.js","webpack://exports/./node_modules/@skpm/path/sketch-specifics.js","webpack://exports/./src/my-command.js","webpack://exports/./src/originalStyles/exportStyles.js","webpack://exports/./src/originalStyles/getOriginalStyles.js","webpack://exports/./src/originalStyles/index.js","webpack://exports/./src/sketchToCss/bordersToCss.js","webpack://exports/./src/sketchToCss/test.js","webpack://exports/./src/styleTree/generateStyleTree.js","webpack://exports/./src/styleTree/getCurrentStyle.js","webpack://exports/./src/styleTree/getFlexLayoutStyle.js","webpack://exports/./src/styleTree/getGridLayoutStyle.js","webpack://exports/./src/utils/exportToJson.js","webpack://exports/external \"buffer\"","webpack://exports/external \"sketch\"","webpack://exports/external \"util\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO: async. Should probably be done with NSFileHandle and some notifications\n// TODO: file descriptor. Needs to be done with NSFileHandle\nvar Buffer = require(\"buffer\").Buffer;\nvar utils = require(\"./utils\");\nvar parseStat = utils.parseStat;\nvar fsError = utils.fsError;\nvar fsErrorForPath = utils.fsErrorForPath;\nvar encodingFromOptions = utils.encodingFromOptions;\nvar NOT_IMPLEMENTED = utils.NOT_IMPLEMENTED;\n\nmodule.exports.constants = {\n  F_OK: 0,\n  R_OK: 4,\n  W_OK: 2,\n  X_OK: 1,\n};\n\nmodule.exports.access = NOT_IMPLEMENTED(\"access\");\n\nmodule.exports.accessSync = function (path, mode) {\n  mode = mode | 0;\n  var fileManager = NSFileManager.defaultManager();\n\n  switch (mode) {\n    case 0:\n      canAccess = module.exports.existsSync(path);\n      break;\n    case 1:\n      canAccess = Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 2:\n      canAccess = Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 3:\n      canAccess =\n        Boolean(Number(fileManager.isExecutableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 4:\n      canAccess = Boolean(Number(fileManager.isReadableFileAtPath(path)));\n      break;\n    case 5:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 6:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 7:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n  }\n\n  if (!canAccess) {\n    throw new Error(\"Can't access \" + String(path));\n  }\n};\n\nmodule.exports.appendFile = NOT_IMPLEMENTED(\"appendFile\");\n\nmodule.exports.appendFileSync = function (file, data, options) {\n  if (!module.exports.existsSync(file)) {\n    return module.exports.writeFileSync(file, data, options);\n  }\n\n  var handle = NSFileHandle.fileHandleForWritingAtPath(file);\n  handle.seekToEndOfFile();\n\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  handle.writeData(nsdata);\n};\n\nmodule.exports.chmod = NOT_IMPLEMENTED(\"chmod\");\n\nmodule.exports.chmodSync = function (path, mode) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFilePosixPermissions: mode,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.chown = NOT_IMPLEMENTED(\"chown\");\nmodule.exports.chownSync = NOT_IMPLEMENTED(\"chownSync\");\n\nmodule.exports.close = NOT_IMPLEMENTED(\"close\");\nmodule.exports.closeSync = NOT_IMPLEMENTED(\"closeSync\");\n\nmodule.exports.copyFile = NOT_IMPLEMENTED(\"copyFile\");\n\nmodule.exports.copyFileSync = function (path, dest, flags) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.copyItemAtPath_toPath_error(path, dest, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.createReadStream = NOT_IMPLEMENTED(\"createReadStream\");\nmodule.exports.createWriteStream = NOT_IMPLEMENTED(\"createWriteStream\");\n\nmodule.exports.exists = NOT_IMPLEMENTED(\"exists\");\n\nmodule.exports.existsSync = function (path) {\n  var fileManager = NSFileManager.defaultManager();\n  return Boolean(Number(fileManager.fileExistsAtPath(path)));\n};\n\nmodule.exports.fchmod = NOT_IMPLEMENTED(\"fchmod\");\nmodule.exports.fchmodSync = NOT_IMPLEMENTED(\"fchmodSync\");\nmodule.exports.fchown = NOT_IMPLEMENTED(\"fchown\");\nmodule.exports.fchownSync = NOT_IMPLEMENTED(\"fchownSync\");\nmodule.exports.fdatasync = NOT_IMPLEMENTED(\"fdatasync\");\nmodule.exports.fdatasyncSync = NOT_IMPLEMENTED(\"fdatasyncSync\");\nmodule.exports.fstat = NOT_IMPLEMENTED(\"fstat\");\nmodule.exports.fstatSync = NOT_IMPLEMENTED(\"fstatSync\");\nmodule.exports.fsync = NOT_IMPLEMENTED(\"fsync\");\nmodule.exports.fsyncSync = NOT_IMPLEMENTED(\"fsyncSync\");\nmodule.exports.ftruncate = NOT_IMPLEMENTED(\"ftruncate\");\nmodule.exports.ftruncateSync = NOT_IMPLEMENTED(\"ftruncateSync\");\nmodule.exports.futimes = NOT_IMPLEMENTED(\"futimes\");\nmodule.exports.futimesSync = NOT_IMPLEMENTED(\"futimesSync\");\n\nmodule.exports.lchmod = NOT_IMPLEMENTED(\"lchmod\");\nmodule.exports.lchmodSync = NOT_IMPLEMENTED(\"lchmodSync\");\nmodule.exports.lchown = NOT_IMPLEMENTED(\"lchown\");\nmodule.exports.lchownSync = NOT_IMPLEMENTED(\"lchownSync\");\n\nmodule.exports.link = NOT_IMPLEMENTED(\"link\");\n\nmodule.exports.linkSync = function (existingPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.linkItemAtPath_toPath_error(existingPath, newPath, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(existingPath, undefined, err.value());\n  }\n};\n\nmodule.exports.lstat = NOT_IMPLEMENTED(\"lstat\");\n\nmodule.exports.lstatSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.attributesOfItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return parseStat(result);\n};\n\nmodule.exports.mkdir = NOT_IMPLEMENTED(\"mkdir\");\n\nmodule.exports.mkdirSync = function (path, options) {\n  var mode = 0o777;\n  var recursive = false;\n  if (options && options.mode) {\n    mode = options.mode;\n  }\n  if (options && options.recursive) {\n    recursive = options.recursive;\n  }\n  if (typeof options === \"number\") {\n    mode = options;\n  }\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.createDirectoryAtPath_withIntermediateDirectories_attributes_error(\n    path,\n    recursive,\n    {\n      NSFilePosixPermissions: mode,\n    },\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.mkdtemp = NOT_IMPLEMENTED(\"mkdtemp\");\n\nmodule.exports.mkdtempSync = function (path) {\n  function makeid() {\n    var text = \"\";\n    var possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (var i = 0; i < 6; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  }\n  var tempPath = path + makeid();\n  module.exports.mkdirSync(tempPath);\n  return tempPath;\n};\n\nmodule.exports.open = NOT_IMPLEMENTED(\"open\");\nmodule.exports.openSync = NOT_IMPLEMENTED(\"openSync\");\n\nmodule.exports.read = NOT_IMPLEMENTED(\"read\");\n\nmodule.exports.readdir = NOT_IMPLEMENTED(\"readdir\");\n\nmodule.exports.readdirSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n  var fileManager = NSFileManager.defaultManager();\n  var paths = fileManager.subpathsAtPath(path);\n  var arr = [];\n  for (var i = 0; i < paths.length; i++) {\n    var pathName = paths[i];\n    arr.push(encoding === \"buffer\" ? Buffer.from(pathName) : String(pathName));\n  }\n  return arr;\n};\n\nmodule.exports.readFile = NOT_IMPLEMENTED(\"readFile\");\n\nmodule.exports.readFileSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"buffer\");\n  var fileManager = NSFileManager.defaultManager();\n  var data = fileManager.contentsAtPath(path);\n  if (!data) {\n    throw fsErrorForPath(path, false);\n  }\n\n  var buffer = Buffer.from(data);\n\n  if (encoding === \"buffer\") {\n    return buffer;\n  } else if (encoding === \"NSData\") {\n    return buffer.toNSData();\n  } else {\n    return buffer.toString(encoding);\n  }\n};\n\nmodule.exports.readlink = NOT_IMPLEMENTED(\"readlink\");\n\nmodule.exports.readlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.destinationOfSymbolicLinkAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return String(result);\n};\n\nmodule.exports.readSync = NOT_IMPLEMENTED(\"readSync\");\n\nmodule.exports.realpath = NOT_IMPLEMENTED(\"realpath\");\nmodule.exports.realpath.native = NOT_IMPLEMENTED(\"realpath.native\");\n\nmodule.exports.realpathSync = function (path) {\n  return String(\n    NSString.stringWithString(path).stringByResolvingSymlinksInPath()\n  );\n};\n\nmodule.exports.realpathSync.native = NOT_IMPLEMENTED(\"realpathSync.native\");\n\nmodule.exports.rename = NOT_IMPLEMENTED(\"rename\");\n\nmodule.exports.renameSync = function (oldPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.moveItemAtPath_toPath_error(oldPath, newPath, err);\n\n  var error = err.value();\n\n  if (error !== null) {\n    // if there is already a file, we need to overwrite it\n    if (\n      String(error.domain()) === \"NSCocoaErrorDomain\" &&\n      Number(error.code()) === 516\n    ) {\n      var err2 = MOPointer.alloc().init();\n      fileManager.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(\n        NSURL.fileURLWithPath(newPath),\n        NSURL.fileURLWithPath(oldPath),\n        null,\n        NSFileManagerItemReplacementUsingNewMetadataOnly,\n        null,\n        err2\n      );\n      if (err2.value() !== null) {\n        throw fsErrorForPath(oldPath, undefined, err2.value());\n      }\n    } else {\n      throw fsErrorForPath(oldPath, undefined, error);\n    }\n  }\n};\n\nmodule.exports.rmdir = NOT_IMPLEMENTED(\"rmdir\");\n\nmodule.exports.rmdirSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (!isDirectory) {\n    throw fsError(\"ENOTDIR\", {\n      path: path,\n      syscall: \"rmdir\",\n    });\n  }\n  fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, true, err.value(), \"rmdir\");\n  }\n};\n\nmodule.exports.stat = NOT_IMPLEMENTED(\"stat\");\n\n// the only difference with lstat is that we resolve symlinks\n//\n// > lstat() is identical to stat(), except that if pathname is a symbolic\n// > link, then it returns information about the link itself, not the file\n// > that it refers to.\n// http://man7.org/linux/man-pages/man2/lstat.2.html\nmodule.exports.statSync = function (path) {\n  return module.exports.lstatSync(module.exports.realpathSync(path));\n};\n\nmodule.exports.symlink = NOT_IMPLEMENTED(\"symlink\");\n\nmodule.exports.symlinkSync = function (target, path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.createSymbolicLinkAtPath_withDestinationPath_error(\n    path,\n    target,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.truncate = NOT_IMPLEMENTED(\"truncate\");\n\nmodule.exports.truncateSync = function (path, len) {\n  var hFile = NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);\n  hFile.truncateFileAtOffset(len || 0);\n  hFile.closeFile();\n};\n\nmodule.exports.unlink = NOT_IMPLEMENTED(\"unlink\");\n\nmodule.exports.unlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (isDirectory) {\n    throw fsError(\"EPERM\", {\n      path: path,\n      syscall: \"unlink\",\n    });\n  }\n  var result = fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.unwatchFile = NOT_IMPLEMENTED(\"unwatchFile\");\n\nmodule.exports.utimes = NOT_IMPLEMENTED(\"utimes\");\n\nmodule.exports.utimesSync = function (path, aTime, mTime) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFileModificationDate: aTime,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.watch = NOT_IMPLEMENTED(\"watch\");\nmodule.exports.watchFile = NOT_IMPLEMENTED(\"watchFile\");\n\nmodule.exports.write = NOT_IMPLEMENTED(\"write\");\n\nmodule.exports.writeFile = NOT_IMPLEMENTED(\"writeFile\");\n\nmodule.exports.writeFileSync = function (path, data, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  nsdata.writeToFile_atomically(path, true);\n};\n\nmodule.exports.writeSync = NOT_IMPLEMENTED(\"writeSync\");\n","module.exports.parseStat = function parseStat(result) {\n  return {\n    dev: String(result.NSFileDeviceIdentifier),\n    // ino: 48064969, The file system specific \"Inode\" number for the file.\n    mode: result.NSFileType | result.NSFilePosixPermissions,\n    nlink: Number(result.NSFileReferenceCount),\n    uid: String(result.NSFileOwnerAccountID),\n    gid: String(result.NSFileGroupOwnerAccountID),\n    // rdev: 0, A numeric device identifier if the file is considered \"special\".\n    size: Number(result.NSFileSize),\n    // blksize: 4096, The file system block size for i/o operations.\n    // blocks: 8, The number of blocks allocated for this file.\n    atimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    mtimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    ctimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    birthtimeMs:\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000,\n    atime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ), // the 0.5 comes from the node source. Not sure why it's added but in doubt...\n    mtime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    ctime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    birthtime: new Date(\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    isBlockDevice: function () {\n      return result.NSFileType === NSFileTypeBlockSpecial;\n    },\n    isCharacterDevice: function () {\n      return result.NSFileType === NSFileTypeCharacterSpecial;\n    },\n    isDirectory: function () {\n      return result.NSFileType === NSFileTypeDirectory;\n    },\n    isFIFO: function () {\n      return false;\n    },\n    isFile: function () {\n      return result.NSFileType === NSFileTypeRegular;\n    },\n    isSocket: function () {\n      return result.NSFileType === NSFileTypeSocket;\n    },\n    isSymbolicLink: function () {\n      return result.NSFileType === NSFileTypeSymbolicLink;\n    },\n  };\n};\n\nvar ERRORS = {\n  EPERM: {\n    message: \"operation not permitted\",\n    errno: -1,\n  },\n  ENOENT: {\n    message: \"no such file or directory\",\n    errno: -2,\n  },\n  EACCES: {\n    message: \"permission denied\",\n    errno: -13,\n  },\n  ENOTDIR: {\n    message: \"not a directory\",\n    errno: -20,\n  },\n  EISDIR: {\n    message: \"illegal operation on a directory\",\n    errno: -21,\n  },\n};\n\nfunction fsError(code, options) {\n  var error = new Error(\n    code +\n      \": \" +\n      ERRORS[code].message +\n      \", \" +\n      (options.syscall || \"\") +\n      (options.path ? \" '\" + options.path + \"'\" : \"\")\n  );\n\n  Object.keys(options).forEach(function (k) {\n    error[k] = options[k];\n  });\n\n  error.code = code;\n  error.errno = ERRORS[code].errno;\n\n  return error;\n}\n\nmodule.exports.fsError = fsError;\n\nmodule.exports.fsErrorForPath = function fsErrorForPath(\n  path,\n  shouldBeDir,\n  err,\n  syscall\n) {\n  var fileManager = NSFileManager.defaultManager();\n  var doesExist = fileManager.fileExistsAtPath(path);\n  if (!doesExist) {\n    return fsError(\"ENOENT\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  var isReadable = fileManager.isReadableFileAtPath(path);\n  if (!isReadable) {\n    return fsError(\"EACCES\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  if (typeof shouldBeDir !== \"undefined\") {\n    var isDirectory = require(\"./index\").lstatSync(path).isDirectory();\n    if (isDirectory && !shouldBeDir) {\n      return fsError(\"EISDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    } else if (!isDirectory && shouldBeDir) {\n      return fsError(\"ENOTDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    }\n  }\n  return new Error(err || \"Unknown error while manipulating \" + path);\n};\n\nmodule.exports.encodingFromOptions = function encodingFromOptions(\n  options,\n  defaultValue\n) {\n  return options && options.encoding\n    ? String(options.encoding)\n    : options\n    ? String(options)\n    : defaultValue;\n};\n\nmodule.exports.NOT_IMPLEMENTED = function NOT_IMPLEMENTED(name) {\n  return function () {\n    throw new Error(\n      \"fs.\" +\n        name +\n        \" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs\"\n    );\n  };\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar sketchSpecifics = require('./sketch-specifics')\n\n// we only expose the posix implementation since Sketch only runs on macOS\n\nvar CHAR_FORWARD_SLASH = 47\nvar CHAR_DOT = 46\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeString(path, allowAboveRoot) {\n  var res = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var code\n  for (var i = 0; i <= path.length; i += 1) {\n    if (i < path.length) code = path.charCodeAt(i)\n    else if (code === CHAR_FORWARD_SLASH) break\n    else code = CHAR_FORWARD_SLASH\n    if (code === CHAR_FORWARD_SLASH) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (\n          res.length < 2 ||\n          lastSegmentLength !== 2 ||\n          res.charCodeAt(res.length - 1) !== CHAR_DOT ||\n          res.charCodeAt(res.length - 2) !== CHAR_DOT\n        ) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/')\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = ''\n                lastSegmentLength = 0\n              } else {\n                res = res.slice(0, lastSlashIndex)\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/')\n              }\n              lastSlash = i\n              dots = 0\n              continue\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = ''\n            lastSegmentLength = 0\n            lastSlash = i\n            dots = 0\n            continue\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0) res += '/..'\n          else res = '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (res.length > 0) res += '/' + path.slice(lastSlash + 1, i)\n        else res = path.slice(lastSlash + 1, i)\n        lastSegmentLength = i - lastSlash - 1\n      }\n      lastSlash = i\n      dots = 0\n    } else if (code === CHAR_DOT && dots !== -1) {\n      ++dots\n    } else {\n      dots = -1\n    }\n  }\n  return res\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root\n  var base =\n    pathObject.base || (pathObject.name || '') + (pathObject.ext || '')\n  if (!dir) {\n    return base\n  }\n  if (dir === pathObject.root) {\n    return dir + base\n  }\n  return dir + sep + base\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = ''\n    var resolvedAbsolute = false\n    var cwd\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i -= 1) {\n      var path\n      if (i >= 0) {\n        path = arguments[i]\n      } else {\n        if (cwd === undefined) {\n          cwd = posix.dirname(sketchSpecifics.cwd())\n        }\n        path = cwd\n      }\n\n      path = sketchSpecifics.getString(path, 'path')\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue\n      }\n\n      resolvedPath = path + '/' + resolvedPath\n      resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute)\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0) return '/' + resolvedPath\n      else return '/'\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath\n    } else {\n      return '.'\n    }\n  },\n\n  normalize: function normalize(path) {\n    path = sketchSpecifics.getString(path, 'path')\n\n    if (path.length === 0) return '.'\n\n    var isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH\n    var trailingSeparator =\n      path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH\n\n    // Normalize the path\n    path = normalizeString(path, !isAbsolute)\n\n    if (path.length === 0 && !isAbsolute) path = '.'\n    if (path.length > 0 && trailingSeparator) path += '/'\n\n    if (isAbsolute) return '/' + path\n    return path\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    path = sketchSpecifics.getString(path, 'path')\n    return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH\n  },\n\n  join: function join() {\n    if (arguments.length === 0) return '.'\n    var joined\n    for (var i = 0; i < arguments.length; i += 1) {\n      var arg = arguments[i]\n      arg = sketchSpecifics.getString(arg, 'path')\n      if (arg.length > 0) {\n        if (joined === undefined) joined = arg\n        else joined += '/' + arg\n      }\n    }\n    if (joined === undefined) return '.'\n    return posix.normalize(joined)\n  },\n\n  relative: function relative(from, to) {\n    from = sketchSpecifics.getString(from, 'from path')\n    to = sketchSpecifics.getString(to, 'to path')\n\n    if (from === to) return ''\n\n    from = posix.resolve(from)\n    to = posix.resolve(to)\n\n    if (from === to) return ''\n\n    // Trim any leading backslashes\n    var fromStart = 1\n    for (; fromStart < from.length; fromStart += 1) {\n      if (from.charCodeAt(fromStart) !== CHAR_FORWARD_SLASH) break\n    }\n    var fromEnd = from.length\n    var fromLen = fromEnd - fromStart\n\n    // Trim any leading backslashes\n    var toStart = 1\n    for (; toStart < to.length; toStart += 1) {\n      if (to.charCodeAt(toStart) !== CHAR_FORWARD_SLASH) break\n    }\n    var toEnd = to.length\n    var toLen = toEnd - toStart\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen\n    var lastCommonSep = -1\n    var i = 0\n    for (; i <= length; i += 1) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1)\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i)\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0\n          }\n        }\n        break\n      }\n      var fromCode = from.charCodeAt(fromStart + i)\n      var toCode = to.charCodeAt(toStart + i)\n      if (fromCode !== toCode) break\n      else if (fromCode === CHAR_FORWARD_SLASH) lastCommonSep = i\n    }\n\n    var out = ''\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; i += 1) {\n      if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n        if (out.length === 0) out += '..'\n        else out += '/..'\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0) return out + to.slice(toStart + lastCommonSep)\n    else {\n      toStart += lastCommonSep\n      if (to.charCodeAt(toStart) === CHAR_FORWARD_SLASH) toStart += 1\n      return to.slice(toStart)\n    }\n  },\n\n  toNamespacedPath: function toNamespacedPath(path) {\n    // Non-op on posix systems\n    return path\n  },\n\n  dirname: function dirname(path) {\n    path = sketchSpecifics.getString(path, 'path')\n    if (path.length === 0) return '.'\n    var code = path.charCodeAt(0)\n    var hasRoot = code === CHAR_FORWARD_SLASH\n    var end = -1\n    var matchedSlash = true\n    for (var i = path.length - 1; i >= 1; i -= 1) {\n      code = path.charCodeAt(i)\n      if (code === CHAR_FORWARD_SLASH) {\n        if (!matchedSlash) {\n          end = i\n          break\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.'\n    if (hasRoot && end === 1) return '//'\n    return path.slice(0, end)\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined)\n      ext = sketchSpecifics.getString(ext, 'ext')\n    path = sketchSpecifics.getString(path, 'path')\n\n    var start = 0\n    var end = -1\n    var matchedSlash = true\n    var i\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return ''\n      var extIdx = ext.length - 1\n      var firstNonSlashEnd = -1\n      for (i = path.length - 1; i >= 0; i -= 1) {\n        var code = path.charCodeAt(i)\n        if (code === CHAR_FORWARD_SLASH) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1\n            break\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false\n            firstNonSlashEnd = i + 1\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1\n              end = firstNonSlashEnd\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd\n      else if (end === -1) end = path.length\n      return path.slice(start, end)\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1\n            break\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false\n          end = i + 1\n        }\n      }\n\n      if (end === -1) return ''\n      return path.slice(start, end)\n    }\n  },\n\n  extname: function extname(path) {\n    path = sketchSpecifics.getString(path, 'path')\n    var startDot = -1\n    var startPart = 0\n    var end = -1\n    var matchedSlash = true\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i)\n      if (code === CHAR_FORWARD_SLASH) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1\n          break\n        }\n        continue\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false\n        end = i + 1\n      }\n      if (code === CHAR_DOT) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i\n        else if (preDotState !== 1) preDotState = 1\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1\n      }\n    }\n\n    if (\n      startDot === -1 ||\n      end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n    ) {\n      return ''\n    }\n    return path.slice(startDot, end)\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new Error('pathObject should be an Object')\n    }\n    return _format('/', pathObject)\n  },\n\n  parse: function parse(path) {\n    path = sketchSpecifics.getString(path, 'path')\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' }\n    if (path.length === 0) return ret\n    var code = path.charCodeAt(0)\n    var isAbsolute = code === CHAR_FORWARD_SLASH\n    var start\n    if (isAbsolute) {\n      ret.root = '/'\n      start = 1\n    } else {\n      start = 0\n    }\n    var startDot = -1\n    var startPart = 0\n    var end = -1\n    var matchedSlash = true\n    var i = path.length - 1\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i)\n      if (code === CHAR_FORWARD_SLASH) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1\n          break\n        }\n        continue\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false\n        end = i + 1\n      }\n      if (code === CHAR_DOT) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i\n        else if (preDotState !== 1) preDotState = 1\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1\n      }\n    }\n\n    if (\n      startDot === -1 ||\n      end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n    ) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute)\n          ret.base = ret.name = path.slice(1, end)\n        else ret.base = ret.name = path.slice(startPart, end)\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot)\n        ret.base = path.slice(1, end)\n      } else {\n        ret.name = path.slice(startPart, startDot)\n        ret.base = path.slice(startPart, end)\n      }\n      ret.ext = path.slice(startDot, end)\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1)\n    else if (isAbsolute) ret.dir = '/'\n\n    return ret\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null,\n\n  resourcePath: sketchSpecifics.resourcePath,\n}\n\nmodule.exports = posix\nmodule.exports.posix = posix\n","var util = require('util')\n\nmodule.exports.getString = function getString(path, argumentName) {\n  if (!util.isString(path)) {\n    // let's make a special case for NSURL\n    if (util.getNativeClass(path) === 'NSURL') {\n      return String(path.path().copy())\n    }\n    throw new Error(argumentName + ' should be a string. Got ' + typeof path + ' instead.')\n  }\n  return String(path)\n}\n\nmodule.exports.cwd = function cwd() {\n  if (typeof __command !== 'undefined' && __command.script() && __command.script().URL()) {\n    return String(__command.script().URL().path().copy())\n  }\n  return String(MSPluginManager.defaultPluginURL().path().copy())\n}\n\nmodule.exports.resourcePath = function resourcePath(resourceName) {\n  if (typeof __command === 'undefined' || !__command.pluginBundle()) {\n    return undefined\n  }\n  var resource = __command.pluginBundle().urlForResourceNamed(resourceName)\n  if (!resource) {\n    return undefined\n  }\n  return String(resource.path())\n}\n","import sketch from 'sketch'\n// documentation: https://developer.sketchapp.com/reference/api/\nimport { generateStyleTree } from './styleTree/generateStyleTree'\nimport fs from '@skpm/fs'\nimport path from '@skpm/path'\nimport { processOriginalStyles } from './originalStyles'\nimport { bordersToCss } from './sketchToCss/bordersToCss'\nimport test from './sketchToCss/test'\nexport default function () {\n  /* const document = sketch.getSelectedDocument()\n  const page = document.pages[0];\n  const login = page.layers[0]\n\n  console.log(login);\n  \n  \n  \n  const styleTree = generateStyleTree(login)\n\n  // 导出到插件根目录\n  const filePath = path.join(process.cwd(), 'styleTree.json')\n  fs.writeFileSync(filePath, JSON.stringify(styleTree, null, 2), 'utf8') \n  sketch.UI.message('样式树已导出到插件目录 styleTree.json')\n  */\n\n  // 处理原始样式（所有逻辑都在 originalStyles 中完成）\n\n  // processOriginalStyles(sketch, fs, path)\n  test()\n  \n  console.log('end');\n  \n}","import { getSelectedLayerOriginalStyles } from './getOriginalStyles';\n\n/**\n * 导出原始样式为JSON文件\n * @param {Object} context - Sketch 上下文对象\n * @param {Object} options - 导出选项\n * @returns {Object} 导出结果\n */\nconst exportOriginalStyles = (context, options = {}) => {\n  // 获取原始样式数据\n  const stylesData = getSelectedLayerOriginalStyles(context);\n  \n  if (stylesData.error) {\n    throw new Error(stylesData.error);\n  }\n\n  // 构建导出文件名\n  const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n  const layerName = stylesData.container ? \n    stylesData.container.name.replace(/[^a-zA-Z0-9]/g, '_') : \n    'unknown_layer';\n  const fileName = `original_styles_${layerName}_${timestamp}.json`;\n\n  // 构建完整的导出数据\n  const exportData = {\n    metadata: {\n      exportType: 'original_styles',\n      // sketchVersion: context.api.version,\n      exportTime: new Date().toISOString(),\n      fileName: fileName,\n      options: options\n    },\n    styles: stylesData\n  };\n\n  // 格式化JSON字符串\n  const jsonString = JSON.stringify(exportData, null, 2);\n\n  // 创建文件内容\n  const fileContent = jsonString;\n\n  // 计算总图层数量（递归统计）\n  const countLayers = (node) => {\n    let count = 1; // 当前节点\n    if (node.children && node.children.length > 0) {\n      node.children.forEach(child => {\n        count += countLayers(child);\n      });\n    }\n    return count;\n  };\n\n  const totalLayers = countLayers(stylesData);\n\n  // 返回导出结果\n  return {\n    success: true,\n    fileName: fileName,\n    fileContent: fileContent,\n    dataSize: fileContent.length,\n    layerCount: totalLayers,\n    timestamp: new Date().toISOString()\n  };\n};\n\n/**\n * 导出样式数据到剪贴板\n * @param {Object} context - Sketch 上下文对象\n * @returns {Object} 导出结果\n */\nconst exportStylesToClipboard = (context) => {\n  const stylesData = getSelectedLayerOriginalStyles(context);\n  \n  if (stylesData.error) {\n    throw new Error(stylesData.error);\n  }\n\n  // 格式化JSON字符串\n  const jsonString = JSON.stringify(stylesData, null, 2);\n  \n  // 复制到剪贴板（需要Sketch API支持）\n  if (context.api && context.api.copyToClipboard) {\n    context.api.copyToClipboard(jsonString);\n  }\n\n  return {\n    success: true,\n    message: '样式数据已复制到剪贴板',\n    dataSize: jsonString.length\n  };\n};\n\n/**\n * 获取样式数据的统计信息\n * @param {Object} context - Sketch 上下文对象\n * @returns {Object} 统计信息\n */\nconst getStylesStatistics = (context) => {\n  const stylesData = getSelectedLayerOriginalStyles(context);\n  \n  if (stylesData.error) {\n    throw new Error(stylesData.error);\n  }\n\n  const stats = {\n    success: true,\n    containerName: stylesData.container ? stylesData.container.name : 'N/A',\n    containerType: stylesData.container ? stylesData.container.type : 'N/A',\n    totalLayers: stylesData.metadata ? stylesData.metadata.totalLayers : 1,\n    layerTypes: stylesData.metadata ? stylesData.metadata.layerTypes : {},\n    hasFills: false,\n    hasBorders: false,\n    hasShadows: false,\n    hasTextStyles: false,\n    timestamp: new Date().toISOString()\n  };\n\n  // 分析样式类型\n  const analyzeLayerStyles = (layer) => {\n    if (layer.style) {\n      if (layer.style.fills && layer.style.fills.length > 0) stats.hasFills = true;\n      if (layer.style.borders && layer.style.borders.length > 0) stats.hasBorders = true;\n      if (layer.style.shadows && layer.style.shadows.length > 0) stats.hasShadows = true;\n      if (layer.style.textStyle) stats.hasTextStyles = true;\n    }\n  };\n\n  // 分析容器样式\n  if (stylesData.container) {\n    analyzeLayerStyles(stylesData.container);\n  }\n\n  // 分析子图层样式\n  if (stylesData.children) {\n    stylesData.children.forEach(child => {\n      analyzeLayerStyles(child);\n    });\n  }\n\n  return stats;\n};\n\nexport { \n  exportOriginalStyles, \n  exportStylesToClipboard, \n  getStylesStatistics \n}; ","/**\n * 获取图层的原始样式属性\n * @param {Object} layer - Sketch 图层对象\n * @returns {Object} 包含所有原始样式属性的对象\n */\nimport path from '@skpm/path'\n\nconst getLayerOriginalStyles = (layer) => {\n  if (!layer) {\n    return null;\n  }\n\n  const styles = {\n    // 基本信息\n    id: layer.id,\n    name: layer.name,\n    type: layer.type,\n    \n    // 位置和尺寸\n    frame: layer.frame ? {\n      x: layer.frame.x,\n      y: layer.frame.y,\n      width: layer.frame.width,\n      height: layer.frame.height\n    } : null,\n    \n    // 变换属性\n    transform: layer.transform ? {\n      rotation: layer.transform.rotation,\n      flippedHorizontally: layer.transform.flippedHorizontally,\n      flippedVertically: layer.transform.flippedVertically\n    } : null,\n    \n    // 样式属性\n    style: {}\n  };\n  console.log(layer.name);\n  if (layer.name === '矩形') {\n    console.log('====================', layer.name);\n    console.log(JSON.stringify (layer));\n    console.log('====================', layer.name);\n\n    \n  }\n\n  // 填充样式\n  if (layer.style && layer.style.fills) {\n    styles.style.fills = layer.style.fills.map(fill => ({\n      fillType: fill.fillType,\n      color: fill.color ? {\n        red: fill.color.red,\n        green: fill.color.green,\n        blue: fill.color.blue,\n        alpha: fill.color.alpha\n      } : null,\n      gradient: fill.gradient,\n      pattern: fill.pattern,\n      noiseIndex: fill.noiseIndex,\n      noiseIntensity: fill.noiseIntensity,\n      isEnabled: fill.isEnabled\n    }));\n  }\n\n  // 边框样式\n  if (layer.style && layer.style.borders) {\n    styles.style.borders = layer.style.borders.map(border => ({\n      fillType: border.fillType,\n      color: border.color ? {\n        red: border.color.red,\n        green: border.color.green,\n        blue: border.color.blue,\n        alpha: border.color.alpha\n      } : null,\n      thickness: border.thickness,\n      position: border.position,\n      isEnabled: border.isEnabled\n    }));\n  }\n\n  // 阴影样式\n  if (layer.style && layer.style.shadows) {\n    styles.style.shadows = layer.style.shadows.map(shadow => ({\n      color: shadow.color ? {\n        red: shadow.color.red,\n        green: shadow.color.green,\n        blue: shadow.color.blue,\n        alpha: shadow.color.alpha\n      } : null,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spread: shadow.spread,\n      isEnabled: shadow.isEnabled\n    }));\n  }\n\n  // 内阴影样式\n  if (layer.style && layer.style.innerShadows) {\n    styles.style.innerShadows = layer.style.innerShadows.map(shadow => ({\n      color: shadow.color ? {\n        red: shadow.color.red,\n        green: shadow.color.green,\n        blue: shadow.color.blue,\n        alpha: shadow.color.alpha\n      } : null,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spread: shadow.spread,\n      isEnabled: shadow.isEnabled\n    }));\n  }\n\n  // 文本样式（仅对文本图层）\n  if (layer.type === 'Text' && layer.style && layer.style.textStyle) {\n    styles.style.textStyle = {\n      fontName: layer.style.textStyle.fontName,\n      fontSize: layer.style.textStyle.fontSize,\n      lineHeight: layer.style.textStyle.lineHeight,\n      letterSpacing: layer.style.textStyle.letterSpacing,\n      textAlign: layer.style.textStyle.textAlign,\n      color: layer.style.textStyle.color ? {\n        red: layer.style.textStyle.color.red,\n        green: layer.style.textStyle.color.green,\n        blue: layer.style.textStyle.color.blue,\n        alpha: layer.style.textStyle.color.alpha\n      } : null\n    };\n  }\n\n  // 模糊效果\n  if (layer.style && layer.style.blur) {\n    styles.style.blur = {\n      type: layer.style.blur.type,\n      radius: layer.style.blur.radius,\n      center: layer.style.blur.center,\n      motionAngle: layer.style.blur.motionAngle,\n      isEnabled: layer.style.blur.isEnabled\n    };\n  }\n\n  // 混合模式\n  if (layer.style && layer.style.blendMode) {\n    styles.style.blendMode = layer.style.blendMode;\n  }\n\n  // 透明度\n  if (layer.style && layer.style.opacity !== undefined) {\n    styles.style.opacity = layer.style.opacity;\n  }\n\n  return styles;\n};\n\n/**\n * 递归获取容器及其所有子元素的原始样式\n * @param {Object} container - 容器图层（编组或框架）\n * @returns {Object} 包含容器和所有子元素样式的对象\n */\nconst getContainerOriginalStyles = (container) => {\n  if (!container) {\n    return null;\n  }\n  console.log(1);\n  \n  const result = {\n    id: container.id,\n    name: container.name,\n    type: container.type,\n    frame: container.frame ? {\n      x: container.frame.x,\n      y: container.frame.y,\n      width: container.frame.width,\n      height: container.frame.height\n    } : null,\n    style: getLayerOriginalStyles(container).style,\n    children: [],\n    metadata: {\n      totalLayers: 0,\n      layerTypes: {},\n      timestamp: new Date().toISOString()\n    }\n  };\n  \n  console.log(2);\n  // 递归处理子图层\n  if (container.layers && container.layers.length > 0) {\n    result.children = container.layers.map(child => {\n      // 统计图层类型\n      if (child.type) {\n        result.metadata.layerTypes[child.type] = (result.metadata.layerTypes[child.type] || 0) + 1;\n      }\n      result.metadata.totalLayers++;\n      \n      // 递归处理子元素：如果子元素也是容器，则递归获取其子元素\n      if (child.type === 'Group' || child.type === 'Artboard') {\n        return getContainerOriginalStyles(child);\n      } else {\n        // 叶子节点：返回完整的图层信息\n        return {\n          id: child.id,\n          name: child.name,\n          type: child.type,\n          frame: child.frame ? {\n            x: child.frame.x,\n            y: child.frame.y,\n            width: child.frame.width,\n            height: child.frame.height\n          } : null,\n          style: getLayerOriginalStyles(child).style,\n          children: [] // 叶子节点没有子元素\n        };\n      }\n    });\n  }\n\n  return result;\n};\n\n/**\n * 获取当前选中图层的原始样式（JSON格式）\n * @param {Object} context - Sketch 上下文对象\n * @returns {Object} 包含原始样式的JSON对象\n */\nconst getSelectedLayerOriginalStyles = (context) => {\n  const selectedLayers = context.selection;\n  \n  if (!selectedLayers || selectedLayers.length === 0) {\n    throw new Error('没有选中的图层');\n  }\n\n  // 使用 forEach 获取第一个选中的图层\n  let clickedLayer = null;\n  selectedLayers.forEach(layer => {\n    if (!clickedLayer) {\n      clickedLayer = layer;\n    }\n  });\n\n  // 检查第一个元素是否存在\n  if (!clickedLayer) {\n    throw new Error('选中的图层无效或为空');\n  }\n  \n  // 检查是否为容器类型\n  if (clickedLayer.type === 'Group' || clickedLayer.type === 'Artboard') {\n    return getContainerOriginalStyles(clickedLayer);\n  }\n  \n  // 如果不是容器，查找父级容器\n  let parentLayer = clickedLayer.parent;\n  while (parentLayer) {\n    if (parentLayer.type === 'Group' || parentLayer.type === 'Artboard') {\n      return getContainerOriginalStyles(parentLayer);\n    }\n    parentLayer = parentLayer.parent;\n  }\n  \n  // 如果都没有找到容器，返回单个图层的样式（也支持递归）\n  return {\n    id: clickedLayer.id,\n    name: clickedLayer.name,\n    type: clickedLayer.type,\n    frame: clickedLayer.frame ? {\n      x: clickedLayer.frame.x,\n      y: clickedLayer.frame.y,\n      width: clickedLayer.frame.width,\n      height: clickedLayer.frame.height\n    } : null,\n    style: getLayerOriginalStyles(clickedLayer).style,\n    children: clickedLayer.layers && clickedLayer.layers.length > 0 ? \n      clickedLayer.layers.map(child => {\n        if (child.type === 'Group' || child.type === 'Artboard') {\n          return getContainerOriginalStyles(child);\n        } else {\n          return {\n            id: child.id,\n            name: child.name,\n            type: child.type,\n            frame: child.frame ? {\n              x: child.frame.x,\n              y: child.frame.y,\n              width: child.frame.width,\n              height: child.frame.height\n            } : null,\n            style: getLayerOriginalStyles(child).style,\n            children: []\n          };\n        }\n      }) : [],\n    note: '单个图层样式',\n    timestamp: new Date().toISOString()\n  };\n};\n\n/**\n * 递归打印图层结构（用于调试）\n * @param {Object} node - 图层节点\n * @param {number} depth - 当前深度\n */\nconst debugPrintLayerStructure = (node, depth = 0) => {\n  const indent = '  '.repeat(depth);\n  console.log(`${indent}${node.type}: ${node.name} (${node.children ? node.children.length : 0} children)`);\n  \n  if (node.children && node.children.length > 0) {\n    node.children.forEach(child => {\n      debugPrintLayerStructure(child, depth + 1);\n    });\n  }\n};\n\nexport { \n  getLayerOriginalStyles, \n  getContainerOriginalStyles, \n  getSelectedLayerOriginalStyles,\n  debugPrintLayerStructure\n}; ","import { getSelectedLayerOriginalStyles } from './getOriginalStyles';\nimport { exportOriginalStyles, exportStylesToClipboard, getStylesStatistics } from './exportStyles';\n\n/**\n * 一键获取并导出原始样式（完整流程）\n * 包含选择验证、样式获取、文件导出等完整逻辑\n * @param {Object} sketchContext - Sketch 上下文对象\n * @param {Object} options - 导出选项\n * @returns {Object} 完整的结果对象\n */\nconst getAndExportOriginalStyles = (sketchContext, options = {}) => {\n  // 1. 验证选择\n  const validation = validateLayerSelection(sketchContext);\n  if (!validation.valid) {\n    throw new Error(validation.message);\n  }\n\n  // 2. 获取原始样式\n  const stylesData = getSelectedLayerOriginalStyles(sketchContext);\n  \n  if (stylesData.error) {\n    throw new Error(stylesData.error);\n  }\n\n  // 3. 导出样式\n  const exportResult = exportOriginalStyles(sketchContext, {\n    includeMetadata: true,\n    format: 'pretty',\n    ...options\n  });\n\n  if (!exportResult.success) {\n    throw new Error(exportResult.error);\n  }\n\n  // 4. 返回完整结果\n  return {\n    success: true,\n    validation: validation,\n    stylesData: stylesData,\n    exportResult: exportResult,\n    statistics: {\n      layerCount: exportResult.layerCount,\n      dataSize: exportResult.dataSize,\n      fileName: exportResult.fileName,\n      containerName: stylesData.name || 'N/A',\n      containerType: stylesData.type || 'N/A'\n    }\n  };\n};\n\n/**\n * 验证图层选择是否有效\n * @param {Object} sketchContext - Sketch 上下文对象\n * @returns {Object} 验证结果\n */\nconst validateLayerSelection = (sketchContext) => {\n  const selectedLayers = sketchContext.selection;\n  if (!selectedLayers || selectedLayers.length === 0) {\n    return {\n      valid: false,\n      message: '没有选中的图层'\n    };\n  }\n\n  // 使用 forEach 获取第一个选中的图层\n  let firstLayer = null;\n  selectedLayers.forEach(layer => {\n    if (!firstLayer) {\n      firstLayer = layer;\n    }\n  });\n\n  if (!firstLayer) {\n    return {\n      valid: false,\n      message: '选中的图层无效或为空'\n    };\n  }\n\n  const isContainer = firstLayer.type === 'Group' || firstLayer.type === 'Artboard';\n\n  if (isContainer) {\n    return {\n      valid: true,\n      message: `选中了${firstLayer.type}类型的容器: ${firstLayer.name}`,\n      layerType: firstLayer.type,\n      layerName: firstLayer.name\n    };\n  }\n\n  // 检查是否有父级容器\n  let parent = firstLayer.parent;\n  while (parent) {\n    if (parent.type === 'Group' || parent.type === 'Artboard') {\n      return {\n        valid: true,\n        message: `选中了${parent.type}类型的父级容器: ${parent.name}`,\n        layerType: parent.type,\n        layerName: parent.name,\n        selectedLayer: firstLayer.name\n      };\n    }\n    parent = parent.parent;\n  }\n\n  return {\n    valid: false,\n    message: '选中的图层不在任何编组或框架内'\n  };\n};\n\n/**\n * 快速获取原始样式（仅获取，不导出）\n * @param {Object} sketchContext - Sketch 上下文对象\n * @returns {Object} 样式数据或错误信息\n */\nconst quickGetOriginalStyles = (sketchContext) => {\n  const validation = validateLayerSelection(sketchContext);\n  if (!validation.valid) {\n    throw new Error(validation.message);\n  }\n\n  const stylesData = getSelectedLayerOriginalStyles(sketchContext);\n  \n  if (stylesData.error) {\n    throw new Error(stylesData.error);\n  }\n\n  return {\n    success: true,\n    data: stylesData,\n    validation: validation\n  };\n};\n\n/**\n * 快速导出样式（仅导出，不验证）\n * @param {Object} sketchContext - Sketch 上下文对象\n * @param {Object} options - 导出选项\n * @returns {Object} 导出结果\n */\nconst quickExportStyles = (sketchContext, options = {}) => {\n  return exportOriginalStyles(sketchContext, {\n    includeMetadata: true,\n    format: 'pretty',\n    ...options\n  });\n};\n\n/**\n * 获取样式统计信息\n * @param {Object} sketchContext - Sketch 上下文对象\n * @returns {Object} 统计信息\n */\nconst getStylesStats = (sketchContext) => {\n  return getStylesStatistics(sketchContext);\n};\n\n/**\n * 导出样式到剪贴板\n * @param {Object} sketchContext - Sketch 上下文对象\n * @returns {Object} 导出结果\n */\nconst exportStylesToClipboardFunc = (sketchContext) => {\n  return exportStylesToClipboard(sketchContext);\n};\n\n// 保留原有的管理器类（向后兼容）\nclass OriginalStylesManager {\n  constructor(context) {\n    this.context = context;\n  }\n\n  getStyles() {\n    return getSelectedLayerOriginalStyles(this.context);\n  }\n\n  exportToFile(options = {}) {\n    return exportOriginalStyles(this.context, options);\n  }\n\n  exportToClipboard() {\n    return exportStylesToClipboardFunc(this.context);\n  }\n\n  getStatistics() {\n    return getStylesStatistics(this.context);\n  }\n\n  validateSelection() {\n    return validateLayerSelection(this.context);\n  }\n}\n\nconst createOriginalStylesManager = (context) => {\n  return new OriginalStylesManager(context);\n};\n\n/**\n * 完全自包含的原始样式处理函数\n * 在Sketch插件中直接调用，处理所有逻辑包括文件导出\n * @param {Object} sketch - Sketch API对象\n * @param {Object} fs - 文件系统模块\n * @param {Object} path - 路径模块\n * @returns {Object} 处理结果\n */\nconst processOriginalStyles = (sketch, fs, path) => {\n  // 1. 获取当前文档和选择\n  const document = sketch.getSelectedDocument();\n  const selection = document.selectedLayers;\n\n  if (!selection || selection.length === 0) {\n    throw new Error('请先选择一个编组或框架');\n  }\n\n  // 使用 map 获取所有选中图层的 ID\n  const selectedLayerIds = [];\n  selection.forEach(layer => {\n    selectedLayerIds.push(layer.id);\n  });\n\n  // 2. 创建上下文对象\n  const sketchContext = { selection };\n\n  // 3. 一键获取并导出原始样式\n  const result = getAndExportOriginalStyles(sketchContext);\n  \n  // 调试：打印图层结构\n/*   console.log('=== 图层结构 ===');\n  console.log(JSON.stringify(result.stylesData, null, 2));\n  console.log('=== 结构结束 ==='); */\n   \n  // 4. 导出到插件根目录\n  const filePath = path.join(process.cwd(), result.exportResult.fileName);\n  fs.writeFileSync(filePath, result.exportResult.fileContent, 'utf8');\n  \n  // 5. 显示成功消息\n  sketch.UI.message(`原始样式已导出到: ${result.exportResult.fileName}`);\n\n  // 6. 输出统计信息\n/*   console.log('导出统计:', {\n    图层数量: result.statistics.layerCount,\n    文件大小: result.statistics.dataSize + ' bytes',\n    容器名称: result.statistics.containerName,\n    容器类型: result.statistics.containerType\n  }); */\n\n  return {\n    success: true,\n    fileName: result.exportResult.fileName,\n    statistics: result.statistics\n  };\n};\n\nexport {\n  // 主要功能函数（推荐使用）\n  getAndExportOriginalStyles,    // 一键获取并导出（完整流程）\n  quickGetOriginalStyles,        // 快速获取样式\n  quickExportStyles,             // 快速导出样式\n  validateLayerSelection,        // 验证选择\n  getStylesStats,                // 获取统计信息\n  exportStylesToClipboardFunc,   // 导出到剪贴板\n  processOriginalStyles,         // 完全自包含的处理函数\n\n  // 向后兼容的函数\n  OriginalStylesManager,\n  createOriginalStylesManager,\n  getSelectedLayerOriginalStyles,\n  exportOriginalStyles,\n  exportStylesToClipboard,\n  getStylesStatistics\n}; ","\n/**\n * 将 Sketch 图层的边框样式转换为 Tailwind CSS 类名\n * @param {Object} layer - Sketch 图层对象\n * @returns {string} - Tailwind CSS 类名字符串\n */\n/**\n * 将 Sketch 图层的边框样式转换为 Tailwind CSS 类名\n * @param {Object} layer - Sketch 图层对象\n * @returns {string} - Tailwind CSS 类名字符串\n */\nconst bordersToCss = (layer) => {\n  // 检查是否有样式和边框\n  if (!layer.style?.borders || layer.style.borders.length === 0) {\n    return '';\n  }\n\n  const classes = [];\n  \n  // 获取第一个边框样式\n  const border = layer.style.borders[0];\n  \n  // 检查边框是否启用\n  if (!border.enabled) {\n    return '';\n  }\n\n  // 处理边框宽度\n  const borderWidth = Math.round(border.thickness);\n  if (borderWidth > 0) {\n    // 处理边框位置\n    if (border.position === 'Inside') {\n      classes.push('border-inset');\n    }\n    classes.push(`border-[${borderWidth}px]`);\n  }\n\n  // 处理边框颜色\n  if (border.color) {\n    const color = border.color.toLowerCase();\n    \n    // 检查颜色是否包含透明度（8位十六进制）\n    if (color.length === 9) {  // 例如 #3a5bcde0\n      // 提取颜色部分（不包含透明度）\n      const colorHex = color.slice(0, 7);\n      // 提取透明度\n      const alpha = parseInt(color.slice(7), 16) / 255;\n      \n      // 添加边框颜色\n      classes.push(`border-[${colorHex}]`);\n\n      // 只有当透明度不是 100% 时才添加透明度类\n      if (alpha < 1) {\n        classes.push(`border-opacity-[${Math.round(alpha * 100)}]`);\n      }\n    } else {  // 6位十六进制颜色（无透明度）\n      classes.push(`border-[${color}]`);\n    }\n  }\n\n  // 处理边框样式\n  if (border.fillType === 'Color') {\n    classes.push('border-solid');\n  }\n\n  // 处理圆角\n  // 从 borderOptions 中获取圆角信息\n  if (layer.style.borderOptions?.lineJoin === 'Round') {\n    classes.push('rounded');\n  }\n\n  return classes.join(' ');\n};\n\nexport default bordersToCss;\n","import sketch from 'sketch'\nimport bordersToCss from './bordersToCss'\nimport exportToJson from '../utils/exportToJson'\n\n\n\nconst iterate = (item, callback) => {\n  let children = []\n  if (item.layers.length > 0) {\n    children = item.layers.map(layer => {\n      return iterate(layer, callback)\n    })\n  }\n  return {\n    name: item.name,\n    style: {\n      ...callback(item),\n    },\n    children\n  };\n}\nconst test = () => {\n  const document = sketch.getSelectedDocument()\n  const page = document.pages[0];\n  exportToJson(page, 'page1.json');\n  const style = iterate(page, (layer) => {\n    return {\n      border: bordersToCss(layer)\n    }\n  })\n  exportToJson(style, 'style.json');\n\n}\n\n\n\nexport default test;\n\n","import getCurrentStyle from './getCurrentStyle'\nimport { getFlexLayoutStyle } from './getFlexLayoutStyle'\nimport { getGridLayoutStyle } from './getGridLayoutStyle'\n\nconst generateStyleTree = (currentLayer, parentLayoutType = 'block', parentSize = null) => {\n  // 当前节点尺寸\n  const currentSize = currentLayer.frame\n    ? { width: currentLayer.frame.width, height: currentLayer.frame.height }\n    : parentSize;\n    \n    \n\n  // 叶子节点（无子 layers）\n  if (!currentLayer.layers) {\n    // mode 控制宽高类型，flexMode 下传递 parentSize\n    const style = getCurrentStyle(\n      currentLayer,\n      {\n        flexMode: parentLayoutType === 'flex',\n        parentSize: parentLayoutType === 'flex' ? parentSize : null\n      }\n    );\n    return {\n      style,\n      children: []\n    }\n  }\n  \n  // 容器节点\n  const { layers } = currentLayer;\n  \n  const xList = layers.map(layer => layer.frame.x);\n  const yList = layers.map(layer => layer.frame.y);\n  console.log('==');\n  console.log(currentLayer);\n  console.log('==');\n  \n  \n  const uniqueXList = [...new Set(xList)].sort((a, b) => a - b);\n  const uniqueYList = [...new Set(yList)].sort((a, b) => a - b);\n  const columnCount = uniqueXList.length;\n  const rowCount = uniqueYList.length;\n\n  let style, layoutType;\n  if (columnCount > 1 && rowCount > 1) {\n    style = getGridLayoutStyle(layers, uniqueXList, uniqueYList);\n    layoutType = 'grid';\n  } else {\n    style = getFlexLayoutStyle(currentLayer, getCurrentStyle(currentLayer, { flexMode: parentLayoutType === 'flex', parentSize: parentSize }), columnCount, rowCount);\n    layoutType = 'flex';\n  }\n\n  // 递归处理子节点，先按 x 升序，再按 y 升序\n  const sortedLayers = [...layers].sort((a, b) => {\n    if (a.frame.x !== b.frame.x) {\n      return a.frame.x - b.frame.x;\n    }\n    return a.frame.y - b.frame.y;\n  });\n  const children = sortedLayers.map(child => generateStyleTree(child, layoutType, currentSize));\n\n  return {\n    style,\n    children\n  }\n}\n\nexport { generateStyleTree };","function getCurrentStyle(layer, options = {}) {\n  if (!layer) return {};\n  const style = layer.style || {};\n  const css = {\n    name: layer.name\n  };\n  const flexMode = options.flexMode === true;\n  const parentSize = options.parentSize;\n\n  // 1. frame 相关\n  if (typeof layer.name === 'string' && layer.name.startsWith('/')) {\n    // 页面级组件，宽高 100%，不管 flexMode\n    css.width = '100%';\n    css.height = '100%';\n  } else if (layer.frame) {\n    if (flexMode && parentSize && parentSize.width && parentSize.height) {\n      css.maxWidth = ((layer.frame.width / parentSize.width) * 100).toFixed(2) + '%';\n      css.maxHeight = ((layer.frame.height / parentSize.height) * 100).toFixed(2) + '%';\n      css.flex = '1 1 auto';\n      css.alignSelf = 'stretch';\n    } else if (flexMode) {\n      css.maxWidth = layer.frame.width + 'px';\n      css.maxHeight = layer.frame.height + 'px';\n      css.flex = '1 1 auto';\n      css.alignSelf = 'stretch';\n    } else {\n      css.width = layer.frame.width + 'px';\n      css.height = layer.frame.height + 'px';\n    }\n  }\n\n  // 2. 通用样式\n  if (typeof layer.opacity === 'number') {\n    css.opacity = layer.opacity;\n  }\n  if (typeof layer.rotation === 'number' && layer.rotation !== 0) {\n    css.transform = `rotate(${layer.rotation}deg)`;\n  }\n\n  // 3. 填充（只取第一个 enabled 的 fill）\n  if (style.fills && style.fills.length > 0) {\n    const fill = style.fills.find(f => f.enabled && f.fillType === 'Color');\n    if (fill) {\n      css.backgroundColor = fill.color;\n    }\n  }\n\n  // 4. 边框（只取第一个 enabled 的 border）\n  if (style.borders && style.borders.length > 0) {\n    const border = style.borders.find(b => b.enabled);\n    if (border) {\n      css.borderWidth = border.thickness + 'px';\n      css.borderColor = border.color;\n      css.borderStyle = 'solid';\n    }\n  }\n\n  // 5. 圆角\n  if (typeof style.borderRadius === 'number' && style.borderRadius > 0) {\n    css.borderRadius = style.borderRadius + 'px';\n  }\n\n  // 6. 阴影（只取第一个 enabled 的 shadow）\n  if (style.shadows && style.shadows.length > 0) {\n    const shadow = style.shadows.find(s => s.enabled);\n    if (shadow) {\n      css.boxShadow = `${shadow.offsetX}px ${shadow.offsetY}px ${shadow.blurRadius}px ${shadow.spread || 0}px ${shadow.color}`;\n    }\n  }\n\n  // 7. 文本样式\n  if (layer.type === 'Text' && layer.style) {\n    if (layer.style.fontSize) css.fontSize = layer.style.fontSize + 'px';\n    if (layer.style.fontFamily) css.fontFamily = layer.style.fontFamily;\n    if (layer.style.textColor) css.color = layer.style.textColor;\n    if (layer.style.fontWeight) css.fontWeight = layer.style.fontWeight;\n    if (layer.style.lineHeight) css.lineHeight = layer.style.lineHeight + 'px';\n    if (layer.style.letterSpacing) css.letterSpacing = layer.style.letterSpacing + 'px';\n    if (layer.style.textAlign) css.textAlign = layer.style.textAlign;\n  }\n\n  // 8. 类型标记\n  if (layer.type === 'Image' || layer.type === 'Bitmap') {\n    css.type = 'img';\n  } else {\n    css.type = 'ele';\n  }\n\n  return css;\n}\n\nexport default getCurrentStyle;\n","function getFlexLayoutStyle(currentLayer, layout = {}, columnCount, rowCount) {\n\n  const children = currentLayer.layers;\n  const parentFrame = currentLayer.frame;\n  \n  // 生成的布局对象\n  const genLayout = { display: 'flex' };\n  \n  \n  // 计算 padding\n  const leftPadding = Math.min(...children.map(l => l.frame.x));\n  const topPadding = Math.min(...children.map(l => l.frame.y));\n  const rightPadding = currentLayer.frame.width - Math.max(...children.map(l => l.frame.x + l.frame.width));\n  const bottomPadding = currentLayer.frame.height - Math.max(...children.map(l => l.frame.y + l.frame.height));\n  genLayout.padding = `${topPadding}px ${rightPadding}px ${bottomPadding}px ${leftPadding}px`;\n  \n  // 只有一行，是水平 Flex\n  if (rowCount === 1) {\n    genLayout.flexDirection = 'row';\n    console.log(children);\n    \n    const sortedLayers = [...children].sort((a, b) => a.frame.x - b.frame.x);\n    let gap = 0;\n    \n    if (sortedLayers.length > 1) {\n      gap = sortedLayers[1].frame.x - (sortedLayers[0].frame.x + sortedLayers[0].frame.width);\n      // 百分比方式\n      gap = parentFrame.width > 0 ? (gap / parentFrame.width) * 100 : 0;\n      genLayout.gap = `${gap.toFixed(2)}%`;\n    } else {\n      genLayout.gap = '0%';\n    }\n    \n    // 推断 justify-content\n    const first = sortedLayers[0];\n    const last = sortedLayers[sortedLayers.length - 1];\n    const spaceLeft = first.frame.x - parentFrame.x;\n    const spaceRight = (parentFrame.x + parentFrame.width) - (last.frame.x + last.frame.width);\n    if (spaceLeft === 0 && spaceRight === 0) {\n      genLayout.justifyContent = 'space-between';\n    } else if (spaceLeft === 0) {\n      genLayout.justifyContent = 'flex-start';\n    } else if (spaceRight === 0) {\n      genLayout.justifyContent = 'flex-end';\n    } else {\n      // 有 padding 时，居中处理\n      genLayout.justifyContent = 'center';\n    }\n\n    // 推断 align-items\n    const yList = sortedLayers.map(l => l.frame.y);\n    const minY = Math.min(...yList);\n    const maxY = Math.max(...yList);\n    if (minY === maxY && minY === parentFrame.y + topPadding) {\n      genLayout.alignItems = 'flex-start';\n    } else if (minY === maxY && minY === parentFrame.y + parentFrame.height - sortedLayers[0].frame.height - bottomPadding) {\n      genLayout.alignItems = 'flex-end';\n    } else {\n      // 居中或拉伸\n      genLayout.alignItems = 'center';\n    }\n  }\n  // 只有一列，是垂直 Flex\n  else {\n    genLayout.flexDirection = 'column';\n    const sortedLayers = [...children].sort((a, b) => a.frame.y - b.frame.y);\n    let gap = 0;\n    if (sortedLayers.length > 1) {\n      gap = sortedLayers[1].frame.y - (sortedLayers[0].frame.y + sortedLayers[0].frame.height);\n      // 百分比方式\n      gap = parentFrame.height > 0 ? (gap / parentFrame.height) * 100 : 0;\n      genLayout.gap = `${gap.toFixed(2)}%`;\n    } else {\n      genLayout.gap = '0%';\n    }\n\n    // 推断 justify-content\n    const first = sortedLayers[0];\n    const last = sortedLayers[sortedLayers.length - 1];\n    const totalChildrenHeight = sortedLayers.reduce((sum, l) => sum + l.frame.height, 0) + (sortedLayers.length - 1) * (parentFrame.height * gap / 100);\n    const spaceTop = first.frame.y - parentFrame.y;\n    const spaceBottom = (parentFrame.y + parentFrame.height) - (last.frame.y + last.frame.height);\n    if (spaceTop === 0 && spaceBottom === 0) {\n      genLayout.justifyContent = 'space-between';\n    } else if (spaceTop === 0) {\n      genLayout.justifyContent = 'flex-start';\n    } else if (spaceBottom === 0) {\n      genLayout.justifyContent = 'flex-end';\n    } else {\n      // 有 padding 时，居中处理\n      genLayout.justifyContent = 'center';\n    }\n\n    // 推断 align-items\n    const xList = sortedLayers.map(l => l.frame.x);\n    const minX = Math.min(...xList);\n    const maxX = Math.max(...xList);\n    if (minX === maxX && minX === parentFrame.x + leftPadding) {\n      genLayout.alignItems = 'flex-start';\n    } else if (minX === maxX && minX === parentFrame.x + parentFrame.width - sortedLayers[0].frame.width - rightPadding) {\n      genLayout.alignItems = 'flex-end';\n    } else {\n      genLayout.alignItems = 'center';\n    }\n  }\n\n  // children 字段，长度为 columnCount * rowCount，每个元素为 { flex: '1 1 auto' }\n  const expectedChildrenCount = columnCount * rowCount;\n  const childrenLayouts = [];\n  for (let i = 0; i < expectedChildrenCount; i++) {\n    childrenLayouts.push({ flex: '1 1 auto' });\n  }\n  genLayout.children = childrenLayouts;\n\n  // 合并传入 layout，传入 layout 优先级高\n  return { ...genLayout, ...layout };\n}\n\nexport {\n  getFlexLayoutStyle\n}","\nfunction getGridLayoutStyle(layers, uniqueXList, uniqueYList) {\n  const layout = { display: 'grid' };\n\n  // 从第一行的图层计算 grid-template-columns\n  const firstRowLayers = layers\n    .filter(layer => layer.frame.y === uniqueYList[0])\n    .sort((a, b) => a.frame.x - b.frame.x);\n  layout.gridTemplateColumns = firstRowLayers\n    .map(layer => `${layer.frame.width}px`)\n    .join(' ');\n\n  // 从第一列的图层计算 grid-template-rows\n  const firstColLayers = layers\n    .filter(layer => layer.frame.x === uniqueXList[0])\n    .sort((a, b) => a.frame.y - b.frame.y);\n  layout.gridTemplateRows = firstColLayers\n    .map(layer => `${layer.frame.height}px`)\n    .join(' ');\n\n  // 计算行列间距\n  const columnGap = firstRowLayers.length > 1\n    ? firstRowLayers[1].frame.x - (firstRowLayers[0].frame.x + firstRowLayers[0].frame.width)\n    : 0;\n  const rowGap = firstColLayers.length > 1\n    ? firstColLayers[1].frame.y - (firstColLayers[0].frame.y + firstColLayers[0].frame.height)\n    : 0;\n\n  if (rowGap === columnGap) {\n    layout.gap = `${rowGap}px`;\n  } else {\n    layout.gap = `${rowGap}px ${columnGap}px`;\n  }\n\n  return layout;\n}\n\nexport {\n  getGridLayoutStyle\n}","import fs from '@skpm/fs'\nimport path from '@skpm/path'\nconst exportToJson = (data, fileName) => {\n  try {\n    const filePath = path.join(process.cwd(), fileName);\n    if (typeof data === 'string')\n      return fs.writeFileSync(filePath, data, 'utf8');\n    return fs.writeFileSync(filePath, JSON.stringify(data, null, 2), 'utf8');\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport default exportToJson;","module.exports = require(\"buffer\");","module.exports = require(\"sketch\");","module.exports = require(\"util\");"],"names":["test","console","log","exportOriginalStyles","context","options","arguments","length","undefined","stylesData","getSelectedLayerOriginalStyles","error","Error","timestamp","Date","toISOString","replace","layerName","container","name","fileName","concat","exportData","metadata","exportType","exportTime","styles","jsonString","JSON","stringify","fileContent","countLayers","node","count","children","forEach","child","totalLayers","success","dataSize","layerCount","exportStylesToClipboard","api","copyToClipboard","message","getStylesStatistics","stats","containerName","containerType","type","layerTypes","hasFills","hasBorders","hasShadows","hasTextStyles","analyzeLayerStyles","layer","style","fills","borders","shadows","textStyle","getLayerOriginalStyles","id","frame","x","y","width","height","transform","rotation","flippedHorizontally","flippedVertically","map","fill","fillType","color","red","green","blue","alpha","gradient","pattern","noiseIndex","noiseIntensity","isEnabled","border","thickness","position","shadow","offsetX","offsetY","blurRadius","spread","innerShadows","fontName","fontSize","lineHeight","letterSpacing","textAlign","blur","radius","center","motionAngle","blendMode","opacity","getContainerOriginalStyles","result","layers","selectedLayers","selection","clickedLayer","parentLayer","parent","note","debugPrintLayerStructure","depth","indent","repeat","getAndExportOriginalStyles","sketchContext","validation","validateLayerSelection","valid","exportResult","_objectSpread","includeMetadata","format","statistics","firstLayer","isContainer","layerType","selectedLayer","quickGetOriginalStyles","data","quickExportStyles","getStylesStats","exportStylesToClipboardFunc","OriginalStylesManager","_classCallCheck","_createClass","key","value","getStyles","exportToFile","exportToClipboard","getStatistics","validateSelection","createOriginalStylesManager","processOriginalStyles","sketch","fs","path","document","getSelectedDocument","selectedLayerIds","push","filePath","join","process","cwd","writeFileSync","UI","bordersToCss","_layer$style","_layer$style$borderOp","classes","enabled","borderWidth","Math","round","toLowerCase","colorHex","slice","parseInt","borderOptions","lineJoin","iterate","item","callback","page","pages","exportToJson","generateStyleTree","currentLayer","parentLayoutType","parentSize","currentSize","getCurrentStyle","flexMode","xList","yList","uniqueXList","_toConsumableArray","Set","sort","a","b","uniqueYList","columnCount","rowCount","layoutType","getGridLayoutStyle","getFlexLayoutStyle","sortedLayers","css","startsWith","maxWidth","toFixed","maxHeight","flex","alignSelf","find","f","backgroundColor","borderColor","borderStyle","borderRadius","s","boxShadow","fontFamily","textColor","fontWeight","layout","parentFrame","genLayout","display","leftPadding","min","apply","l","topPadding","rightPadding","max","bottomPadding","padding","flexDirection","gap","first","last","spaceLeft","spaceRight","justifyContent","minY","maxY","alignItems","totalChildrenHeight","reduce","sum","spaceTop","spaceBottom","minX","maxX","expectedChildrenCount","childrenLayouts","i","firstRowLayers","filter","gridTemplateColumns","firstColLayers","gridTemplateRows","columnGap","rowGap"],"sourceRoot":""}